(self.webpackChunkguild_sre_training=self.webpackChunkguild_sre_training||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},3018:function(t,e,n){"use strict";n.d(e,{deG:function(){return tn},tb:function(){return lu},AFp:function(){return ou},ip1:function(){return ru},CZH:function(){return iu},hGG:function(){return rc},z2F:function(){return $u},sBO:function(){return da},Sil:function(){return _u},_Vd:function(){return Vs},EJc:function(){return du},SBq:function(){return qs},qLn:function(){return vr},vpe:function(){return qa},gxx:function(){return no},tBr:function(){return Sn},XFs:function(){return N},OlP:function(){return Xe},zs3:function(){return vo},ZZ4:function(){return sa},aQg:function(){return ua},soG:function(){return fu},YKP:function(){return Ea},v3s:function(){return Qu},h0i:function(){return Ta},PXZ:function(){return Gu},R0b:function(){return Su},FiY:function(){return Cn},Lbi:function(){return cu},g9A:function(){return uu},Qsj:function(){return Zs},FYo:function(){return Bs},JOm:function(){return _r},Tiy:function(){return zs},q3G:function(){return hr},tp0:function(){return An},EAV:function(){return Yu},Rgc:function(){return va},dDg:function(){return Du},DyG:function(){return en},q4F:function(){return Ks},GfV:function(){return $s},s_b:function(){return Ca},ifc:function(){return U},eFA:function(){return Bu},G48:function(){return Mu},Gpc:function(){return g},X6Q:function(){return Uu},_c5:function(){return ec},VLi:function(){return Pu},c2e:function(){return hu},zSh:function(){return io},wAp:function(){return Ts},vHH:function(){return v},EiD:function(){return cr},mCW:function(){return $n},qzn:function(){return Fn},JVY:function(){return Un},pB0:function(){return Gn},eBb:function(){return jn},L6k:function(){return Mn},LAX:function(){return qn},cg1:function(){return bs},Tjo:function(){return tc},kL8:function(){return ws},yhl:function(){return Vn},dqk:function(){return B},sIi:function(){return Io},CqO:function(){return Go},QGY:function(){return jo},F4k:function(){return qo},RDi:function(){return It},AaK:function(){return f},z3N:function(){return Ln},qOj:function(){return wo},TTD:function(){return wt},_Bn:function(){return Rs},xp6:function(){return si},uIk:function(){return Oo},Gre:function(){return ps},ekj:function(){return es},Suo:function(){return tu},Xpm:function(){return tt},lG2:function(){return at},Yz7:function(){return E},cJS:function(){return S},oAB:function(){return it},Yjl:function(){return ut},Y36:function(){return Ro},_UZ:function(){return Uo},qZA:function(){return Vo},TgZ:function(){return Fo},EpF:function(){return Mo},n5z:function(){return Ke},Ikx:function(){return gs},LFG:function(){return bn},$8M:function(){return We},NdJ:function(){return Bo},CRH:function(){return eu},oxw:function(){return zo},Q6J:function(){return Po},s9C:function(){return $o},iGM:function(){return Xa},CHM:function(){return Zt},LSH:function(){return fr},kYT:function(){return ot},YNc:function(){return No},_uU:function(){return hs},Oqu:function(){return fs},hij:function(){return ds}});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(2441);var u=n(1307);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function T(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return A(t,x)||A(t,O)}function A(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(D))?t[k]:null}const x=l({"\u0275prov":l}),k=l({"\u0275inj":l}),O=l({ngInjectableDef:l}),D=l({ngInjectorDef:l});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let R;function P(t){const e=R;return R=t,e}function L(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function F(t){return{toString:t}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),U=(()=>((U=U||{})[U.Emulated=0]="Emulated",U[U.None=2]="None",U[U.ShadowDom=3]="ShadowDom",U))();const M="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,B=M||G||j||q,Z={},H=[],z=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),W=l({"\u0275loc":l}),J=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let X=0;function tt(t){return F(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||U.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[K]||null}(t)}const rt={};function it(t){return F(()=>{const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(rt[t.id]=t.type),e})}function ot(t,e){return F(()=>{const n=lt(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function st(t,e){if(null==t)return Z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[z]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function yt(t){return 0!=(512&t[2])}function vt(t,e){return t.hasOwnProperty(J)?t[J]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),Tt}function Tt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ct(t)||function(t,e){return t[St]=e}(t,{previous:Z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===Z),t[r]=e}wt.ngInherit=!0;const St="__ngSimpleChanges__";function Ct(t){return t[St]||null}let At;function It(t){At=t}function xt(t){return!!t.listen}const kt={createRenderer:(t,e)=>void 0!==At?At:"undefined"!=typeof document?document:void 0};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Ot(e[t])}function Nt(t,e){return Ot(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return ht(n)?n:n[0]}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const jt={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return jt.bindingsEnabled}function Gt(){return jt.lFrame.lView}function Bt(){return jt.lFrame.tView}function Zt(t){return jt.lFrame.contextLView=t,t[8]}function Ht(){let t=zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function zt(){return jt.lFrame.currentTNode}function $t(t,e){const n=jt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return jt.lFrame.isParent}function Qt(){return jt.isInCheckNoChangesMode}function Wt(t){jt.isInCheckNoChangesMode=t}function Jt(){return jt.lFrame.bindingIndex++}function Yt(t){const e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xt(t,e){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){jt.lFrame.currentDirectiveIndex=t}function ee(){return jt.lFrame.currentQueryIndex}function ne(t){jt.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;!(r=r.parent,null!==r||n&N.Host||(r=re(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;e=r,t=i}const r=jt.lFrame=se();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=se(),n=t[1];jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=jt.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function le(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return jt.lFrame.selectedIndex}function fe(t){jt.lFrame.selectedIndex=t}function de(){const t=jt.lFrame;return Rt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ge(t,e,n){ve(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&ve(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ve(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class we{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function _e(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ee(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Te(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function Se(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ce(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ce(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ae(t){return-1!==t}function Ie(t){return 32767&t}function xe(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function Oe(t){const e=ke;return ke=t,e}let De=0;function Ne(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Le(t,e),o=t.injectorIndex;if(Ae(i)){const t=Ie(i),n=xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Le(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=De++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ve(t,e,n){if(n&N.Optional)return t;_(e,"NodeInjector")}function Ue(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&N.Optional):L(e,r,n&N.Optional)}finally{P(o)}}return Ve(r,e,n)}function Me(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:qe:e}(n);if("function"==typeof o){if(!ie(e,t,r))return r&N.Host?Ve(i,n,r):Ue(e,n,r,i);try{const t=o(r);if(null!=t||r&N.Optional)return t;_(n)}finally{ce()}}else if("number"==typeof o){let i=null,s=Pe(t,e),a=-1,u=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(a=-1===s?Le(t,e):e[s+8],-1!==a&&ze(r,!1)?(i=e[1],s=Ie(a),e=xe(a,e)):s=-1);-1!==s;){const t=e[1];if(He(o,s,t.data)){const t=Ge(s,e,n,i,r,u);if(t!==je)return t}a=e[s+8],-1!==a&&ze(r,e[1].data[s+8]===u)&&He(o,s,e)?(i=t,s=Ie(a),e=xe(a,e)):s=-1}}}return Ue(e,n,r,i)}const je={};function qe(){return new $e(Ht(),Gt())}function Ge(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Be(a,s,n,null==r?pt(a)&&ke:r!=s&&0!=(3&a.type),i&N.Host&&o===a);return null!==u?Ze(e,s,u,a):je}function Be(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function Ze(t,e,n,r){let i=t[n];const o=e.data;if(function(t){return t instanceof we}(i)){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=Oe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?P(s.injectImpl):null;ie(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&P(u),Oe(a),s.resolving=!1,ce()}}return i}function He(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ze(t,e){return!(t&N.Self||t&N.Host&&e)}class $e{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Me(this._tNode,this._lView,t,void 0,e)}}function Ke(t){return F(()=>{const e=t.prototype.constructor,n=e[J]||Qe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||Qe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Qe(t){return y(t)?()=>{const e=Qe(m(t));return e&&e()}:vt(t)}function We(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}const Je="__parameters__";function Ye(t,e,n){return F(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Xe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tn=new Xe("AnalyzeForEntryComponents"),en=Function;function nn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),nn(r,e)):e!==t&&e.push(r)}return e}function rn(t,e){t.forEach(t=>Array.isArray(t)?rn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function an(t,e,n){let r=cn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=cn(t,e);if(n>=0)return t[1|n]}function cn(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const ln={},hn="__NG_DI_FLAG__",fn="ngTempTokenPath",dn=/\n/gm,pn="__source",gn=l({provide:String,useValue:l});let mn;function yn(t){const e=mn;return mn=t,e}function vn(t,e=N.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?L(t,void 0,e):mn.get(t,e&N.Optional?null:void 0,e)}function bn(t,e=N.Default){return(R||vn)(m(t),e)}function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e],o=Tn(i);"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(bn(t,n))}else e.push(bn(r))}return e}function _n(t,e){return t[hn]=e,t.prototype[hn]=e,t}function Tn(t){return t[hn]}function En(t,e,n,r){const i=t[fn];throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fn]=null,t}const Sn=_n(Ye("Inject",t=>({token:t})),-1),Cn=_n(Ye("Optional"),8),An=_n(Ye("SkipSelf"),4);let In;function xn(t){var e;return(null===(e=function(){if(void 0===In&&(In=null,B.trustedTypes))try{In=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return In}())||void 0===e?void 0:e.createHTML(t))||t}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends kn{getTypeName(){return"HTML"}}class Dn extends kn{getTypeName(){return"Style"}}class Nn extends kn{getTypeName(){return"Script"}}class Rn extends kn{getTypeName(){return"URL"}}class Pn extends kn{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof kn&&t.getTypeName()||null}function Un(t){return new On(t)}function Mn(t){return new Dn(t)}function jn(t){return new Nn(t)}function qn(t){return new Rn(t)}function Gn(t){return new Pn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=xn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Hn)||t.match(zn)?t:"unsafe:"+t}function Kn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Wn=Kn("area,br,col,hr,img,wbr"),Jn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Kn("rp,rt"),Xn=Qn(Wn,Qn(Jn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(Yn,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qn(Yn,Jn)),tr=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=Kn("srcset"),nr=Qn(tr,er,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Kn("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!nr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;tr[o]&&(s=$n(s)),er[o]&&(r=s,s=(r=String(r)).split(",").map(t=>$n(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Wn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(or,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(sr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ur;function cr(t,e){let n=null;try{ur=ur||function(t){const e=new Zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=ur.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);return xn((new ir).sanitizeChildren(lr(n)||n))}finally{if(n){const t=lr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function lr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function fr(t){const e=function(){const t=Gt();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":Fn(t,"URL")?Ln(t):$n(b(t))}const dr="__ngContext__";function pr(t,e){t[dr]=e}function gr(t){const e=function(t){return t[dr]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function mr(t){return t.ngOriginalError}function yr(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=(i=t)&&i.ngErrorLogger||yr;var i;r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?t.ngDebugContext||this._findContext(mr(t)):null}_findOriginalError(t){let e=t&&mr(t);for(;e&&mr(e);)e=mr(e);return e||null}}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function wr(t){return t instanceof Function?t():t}var _r=(()=>((_r=_r||{})[_r.Important=1]="Important",_r[_r.DashCase=2]="DashCase",_r))();function Tr(t,e){return undefined(t,e)}function Er(t){const e=t[3];return ft(e)?e[3]:e}function Sr(t){return Ar(t[13])}function Cr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Ir(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=Ot(r);0===t&&null!==n?null==i?Lr(e,n,a):Pr(e,n,a,i||null,!0):1===t&&null!==n?Pr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Vr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ot(n)&&Ir(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function xr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function kr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function Or(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&kr(i,r),e>0&&(t[n-1][4]=r[4]);const o=sn(t,10+e);!function(t,e){Zr(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Nr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Nr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Nr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Nr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof we)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Ot(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)r[t]();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&kr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===U.None||e===U.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function Pr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):Lr(t,e,n)}function Vr(t,e){return xt(t)?t.parentNode(e):e.parentNode}let Ur=function(t,e,n){return 40&t.type?Nt(t,n):null};function Mr(t,e,n,r){const i=Rr(t,r,e),o=e[11],s=function(t,e,n){return Ur(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(o,i,n[a],s,!1);else Fr(o,i,n,s,!1)}function jr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return jr(t,n);{const n=t[e.index];return ft(n)?Gr(-1,n):Ot(n)}}if(32&n)return Tr(e,t)()||Ot(t[e.index]);{const n=qr(t,e);return null!==n?Array.isArray(n)?n[0]:jr(Er(t[16]),n):jr(t,e.next)}}return null}function qr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return jr(t,r)}return e[7]}function Br(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&pr(Ot(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Br(t,e,n.child,r,i,o,!1),Ir(e,t,i,a,o);else if(32&u){const s=Tr(n,r);let u;for(;u=s();)Ir(e,t,i,u,o);Ir(e,t,i,a,o)}else 16&u?Hr(t,e,r,n,i,o):Ir(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Br(n,r,t.firstChild,e,i,o,!1)}function Hr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ir(e,t,i,a[u],o);else Br(t,e,a,s[3],i,o,!0)}function zr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Kr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Qr="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Jr(t){return 4===t.type&&t.value!==Qr}function Yr(t,e,n){return e===(4!==t.type||n?t.value:Qr)}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Yr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(ti(r))return!1;s=!0}continue}const l=ei(8&r?"class":u,i,Jr(t),n);if(-1===l){if(ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Kr(e,c,0)||2&r&&c!==t){if(ti(r))return!1;s=!0}}}}else{if(!s&&!ti(r)&&!ti(u))return!1;if(s&&ti(u))continue;s=!1,r=u|1&r}}return ti(r)||s}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ti(s)&&(e+=ri(o,i),i=""),r=s,o=o||!ti(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ai(Bt(),Gt(),he()+t,Qt())}function ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}fe(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ne(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=zt(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),jt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=jt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&Ki(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Ki(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,le()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const o=Qt();try{Ut(e),function(t){jt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_i(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ye(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Cr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,o=n[++t],s=n[++t];Xt(o,i),s(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ki(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{le()}}function wi(t,e,n,r){const i=e[10],o=!Qt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&vi(t,e,r),bi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function _i(t,e,n,r,i){const o=he(),s=2&r;try{fe(-1),s&&e.length>20&&ai(t,e,20,Qt()),n(r,i)}finally{fe(o)}}function Ti(t,e,n){!qt()||(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),pr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&Fi(e,n,r);const u=Ze(e,t,a,n);pr(u,e),null!==s&&Ui(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=jt.lFrame.currentDirectiveIndex;try{fe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Di(r,i)}}finally{fe(-1),te(s)}}(t,e,n))}function Ei(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Si(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ci(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ci(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ai(t,e,n,r){const i=Wi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function xi(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Xi(t,n,c,r,i),pt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Ee(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ki(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ni(n,s.selectors,!1)&&(i||(i=[]),Fe(Ne(n,e),t,s.type),mt(s)?(Ni(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Se(n.mergedAttrs,c.hostAttrs),Li(t,n,e,u,c),Ri(u,c,s),null!==c.contentQueries&&(n.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Jr(e)?null:Mi(n,i);o.push(c),s=Ii(n,u,s),a=Ii(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Se(n.mergedAttrs,n.attrs),i}function Oi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Di(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ri(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new we(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Oi(t,e,0,r,yi(t,n,i.hostVars,oi),i)}function Fi(t,e,n){const r=Nt(e,t),i=Si(n),o=t[10],s=Zi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Vi(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}function Ui(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){const n=Pt(e,t);if(Ft(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&Gi(n)}}function Gi(t){for(let n=Sr(t);null!==n;n=Cr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&Gi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Ft(r)&&r[5]>0&&Gi(r)}}function Bi(t,e){const n=Pt(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),vi(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hi(t){for(;t;){t[2]|=64;const e=Er(t);if(yt(t)&&!e)return t;t=e}return null}function zi(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw Yi(e,i),i}finally{r.end&&r.end()}}function $i(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=gr(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Ki(t,e,n){ne(0),e(t,n)}const Qi=(()=>Promise.resolve(null))();function Wi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function Yi(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function Xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function to(t,e,n){const r=Dt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function eo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const no=new Xe("INJECTOR",-1);class ro{get(t,e=ln){if(e===ln){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const io=new Xe("Set Injector scope."),oo={},so={};let ao;function uo(){return void 0===ao&&(ao=new ro),ao}function co(t,e=null,n=null,r){return new lo(t,n,e||uo(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&rn(e,n=>this.processProvider(n,t,e)),rn([t],t=>this.processInjectorType(t,[],i)),this.records.set(no,po(void 0,this));const o=this.records.get(io);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ln,n=N.Default){this.assertNotDestroyed();const r=yn(this),i=P(void 0);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof Xe)&&C(t);e=n&&this.injectableDefInScope(n)?po(ho(t),oo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?uo():this.parent).get(t,e=n&N.Optional&&e===ln?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[fn]=s[fn]||[]).unshift(f(t)),r)throw s;return En(s,t,"R3InjectorError",this.source)}throw s}finally{P(i),yn(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{rn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];rn(r,t=>this.processProvider(t,n,r||H))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,po(a,oo));const u=r.providers;if(null!=u&&!s){const e=t;rn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=mo(t=m(t))?t:m(t&&t.provide);const i=go(o=t)?po(void 0,o.useValue):po(fo(o),oo);var o;if(mo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,oo,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){return e.value===oo&&(e.value=so,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var n}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function ho(t){const e=C(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof Xe)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[O]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r;if(mo(t)){const e=m(t);return vt(e)||ho(e)}if(go(t))r=()=>m(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>bn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ho(e);r=()=>new e(...wn(t.deps))}return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&gn in t}function mo(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class vo{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}function bo(t,e){pe(gr(t)[1],Ht())}function wo(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=_o(t.inputs),e.declaredInputs=_o(t.declaredInputs),e.outputs=_o(t.outputs);const n=i.hostBindings;n&&So(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&To(t,o),s&&Eo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===wo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Se(i.hostAttrs,n=Se(n,i.hostAttrs))}}(r)}function _o(t){return t===Z?{}:t===H?[]:t}function To(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function So(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}vo.THROW_IF_NOT_FOUND=ln,vo.NULL=new ro,vo.\u0275prov=E({token:vo,providedIn:"any",factory:()=>bn(no)}),vo.__NG_ELEMENT_ID__=-1;let Co=null;function Ao(){if(!Co){const t=B.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}function Io(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Oo(t,e,n,r){const i=Gt();return ko(i,Jt(),e)&&(Bt(),Vi(de(),i,t,e,n,r)),Oo}function Do(t,e,n,r){return ko(t,Jt(),n)?e+b(n)+r:oi}function No(t,e,n,r,i,o,s,a){const u=Gt(),c=Bt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,t,4,s||null,Vt(c,a));ki(e,n,l,Vt(c,u)),pe(e,l);const h=l.tViews=Ci(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];$t(h,!1);const f=u[11].createComment("");Mr(c,u,f,h),pr(f,u),Zi(u,u[l]=ji(f,u,f,h)),gt(h)&&Ti(c,u,h),null!=s&&Ei(u,h,a)}function Ro(t,e=N.Default){const n=Gt();return null===n?bn(t,e):Me(Ht(),n,m(t),e)}function Po(t,e,n){const r=Gt();return ko(r,Jt(),e)&&xi(Bt(),de(),r,t,e,r[11],n,!1),Po}function Lo(t,e,n,r,i){const o=i?"class":"style";Xi(t,n,e.inputs[o],o,r)}function Fo(t,e,n,r){const i=Gt(),o=Bt(),s=20+t,a=i[11],u=i[s]=xr(a,e,jt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=mi(e,t,2,i,Vt(a,o));return ki(e,n,u,Vt(a,s)),null!==u.attrs&&eo(u,u.attrs,!1),null!==u.mergedAttrs&&eo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];$t(c,!0);const l=c.mergedAttrs;null!==l&&_e(a,u,l);const h=c.classes;null!==h&&$r(a,u,h);const f=c.styles;null!==f&&zr(a,u,f),64!=(64&c.flags)&&Mr(o,i,u,c),0===jt.lFrame.elementDepthCount&&pr(u,i),jt.lFrame.elementDepthCount++,gt(c)&&(Ti(o,i,c),function(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ei(i,c)}function Vo(){let t=Ht();Kt()?jt.lFrame.isParent=!1:(t=t.parent,$t(t,!1));const e=t;jt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(pe(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,Gt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,Gt(),e.stylesWithoutHost,!1)}function Uo(t,e,n,r){Fo(t,e,n,r),Vo()}function Mo(){return Gt()}function jo(t){return!!t&&"function"==typeof t.then}function qo(t){return!!t&&"function"==typeof t.subscribe}const Go=qo;function Bo(t,e,n,r){const i=Gt(),o=Bt(),s=Ht();return function(t,e,n,r,i,o,s,a){const u=gt(r),c=t.firstCreatePass&&Ji(t),l=e[8],h=Wi(e);let f=!0;if(3&r.type||a){const d=Nt(r,e),p=a?a(d):d,g=h.length,m=a?t=>a(Ot(t[r.index])):r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,f=!1;else{o=Ho(r,e,l,o,!1);const t=n.listen(p,i,o);h.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Ho(r,e,l,o,!0),p.addEventListener(i,o,s),h.push(o),c&&c.push(i,m,g,s)}else o=Ho(r,e,l,o,!1);const d=r.outputs;let p;if(f&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=h.length;h.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Bo}function Zo(t,e,n,r){try{return!1!==n(r)}catch(i){return Yi(t,i),!1}}function Ho(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&Hi(s);let a=Zo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Zo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function zo(t=1){return function(t){return(jt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,jt.lFrame.contextLView))[8]}(t)}function $o(t,e,n){return Ko(t,"",e,"",n),$o}function Ko(t,e,n,r,i){const o=Gt(),s=Do(o,e,n,r);return s!==oi&&xi(Bt(),de(),o,t,s,o[11],i,!1),Ko}function Qo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):hi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Wo(t[a],e)&&(u=!0,t[a+1]=r?di(n):li(n)),a=r?ci(n):hi(n)}u&&(t[n+1]=r?li(o):di(o))}function Wo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&cn(t,e)>=0}const Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yo(t){return t.substring(Jo.key,Jo.keyEnd)}function Xo(t,e){const n=Jo.textEnd;return n===e?-1:(e=Jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Jo.key=e,n),ts(t,e,n))}function ts(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function es(t,e){return function(t,e,n,r){const i=Gt(),o=Bt(),s=Yt(2);o.firstUpdatePass&&is(o,t,s,r),e!==oi&&ko(i,s,e)&&as(o,o.data[he()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(Ln(t)))),t}(e,n),r,s)}(t,e,null,!0),es}function ns(t,e){for(let n=function(t){return function(t){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=t.length}(t),Xo(t,ts(t,0,Jo.textEnd))}(e);n>=0;n=Xo(e,n))an(t,Yo(e),!0)}function rs(t,e){return e>=t.expandoStartIndex}function is(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[he()],s=rs(t,n);ls(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ss(n=os(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=os(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==hi(r))return t[ci(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=os(null,t,e,n[1],r),n=ss(n,e.attrs,r),function(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ss(r,t[o].hostAttrs,n);return ss(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),u=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||cn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ci(t[a+1]);t[r+1]=ui(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ui(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ui(u,0),0===a?a=r:t[u+1]=fi(t[u+1],r),u=r;l&&(t[r+1]=li(t[r+1])),Qo(t,c,r,!0),Qo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&cn(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,c,t,r,o),s=ui(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function os(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ss(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ss(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,s,!!n||e[++o]))}return void 0===t?null:t}function as(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];cs(function(t){return 1==(1&t)}(c)?us(u,e,n,i,hi(c),s):void 0)||(cs(o)||function(t){return 2==(2&t)}(c)&&(o=us(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=_r.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Dt(he(),n),i,o))}function us(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?H:void 0);let h=c?un(l,r):u===r?l:void 0;if(o&&!cs(h)&&(h=un(e,r)),cs(h)&&(a=h,s))return a;const f=t[i+1];i=s?ci(f):hi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,r))}return a}function cs(t){return void 0!==t}function ls(t,e){return 0!=(t.flags&(e?16:32))}function hs(t,e=""){const n=Gt(),r=Bt(),i=t+20,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Mr(r,n,s,o),$t(o,!1)}function fs(t){return ds("",t,""),fs}function ds(t,e,n){const r=Gt(),i=Do(r,t,e,n);return i!==oi&&to(r,he(),i),ds}function ps(t,e,n){!function(t,e,n,r){const i=Bt(),o=Yt(2);i.firstUpdatePass&&is(i,null,o,r);const s=Gt();if(n!==oi&&ko(s,o,n)){const a=i.data[he()];if(ls(a,r)&&!rs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=d(t,n||"")),Lo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===oi&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&as(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Ln(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(an,ns,Do(Gt(),t,e,n),!0)}function gs(t,e,n){const r=Gt();return ko(r,Jt(),e)&&xi(Bt(),de(),r,t,e,r[11],n,!0),gs}const ms=void 0;var ys=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let vs={};function bs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=_s(e);if(n)return n;const r=e.split("-")[0];if(n=_s(r),n)return n;if("en"===r)return ys;throw new Error(`Missing locale data for the locale "${t}".`)}function ws(t){return bs(t)[Ts.PluralCase]}function _s(t){return t in vs||(vs[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),vs[t]}var Ts=(()=>((Ts=Ts||{})[Ts.LocaleId=0]="LocaleId",Ts[Ts.DayPeriodsFormat=1]="DayPeriodsFormat",Ts[Ts.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ts[Ts.DaysFormat=3]="DaysFormat",Ts[Ts.DaysStandalone=4]="DaysStandalone",Ts[Ts.MonthsFormat=5]="MonthsFormat",Ts[Ts.MonthsStandalone=6]="MonthsStandalone",Ts[Ts.Eras=7]="Eras",Ts[Ts.FirstDayOfWeek=8]="FirstDayOfWeek",Ts[Ts.WeekendRange=9]="WeekendRange",Ts[Ts.DateFormat=10]="DateFormat",Ts[Ts.TimeFormat=11]="TimeFormat",Ts[Ts.DateTimeFormat=12]="DateTimeFormat",Ts[Ts.NumberSymbols=13]="NumberSymbols",Ts[Ts.NumberFormats=14]="NumberFormats",Ts[Ts.CurrencyCode=15]="CurrencyCode",Ts[Ts.CurrencySymbol=16]="CurrencySymbol",Ts[Ts.CurrencyName=17]="CurrencyName",Ts[Ts.Currencies=18]="Currencies",Ts[Ts.Directionality=19]="Directionality",Ts[Ts.PluralCase=20]="PluralCase",Ts[Ts.ExtraData=21]="ExtraData",Ts))();const Es="en-US";let Ss=Es;function Cs(t){T(t,"Expected localeId to be defined"),"string"==typeof t&&(Ss=t.toLowerCase().replace(/_/g,"-"))}function As(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)As(t[o],e,n,r,i);else{const o=Bt(),s=Gt();let a=mo(t)?t:m(t.provide),u=fo(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(mo(t)||!t.multi){const r=new we(u,i,Ro),d=ks(a,e,i?l:l+f,h);-1===d?(Fe(Ne(c,s),o,a),Is(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ks(a,e,l+f,h),p=ks(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Fe(Ne(c,s),o,a);const l=function(t,e,n,r,i){const o=new we(t,n,Ro);return o.multi=[],o.index=e,o.componentProviders=0,xs(o,i,r&&!n),o}(i?Ds:Os,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Is(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Is(o,t,d>-1?d:p,xs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Is(t,e,n,r){const i=mo(e);if(i||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function xs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ks(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Os(t,e,n,r){return Ns(this.multi,[])}function Ds(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ns(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ns(i,o);return o}function Ns(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Rs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=mt(t);As(n,r.data,r.blueprint,i,!0),As(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ps{}const Ls="ngComponent";class Fs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ls]=t,e}(t)}}class Vs{}function Us(...t){}function Ms(t,e){return new qs(Nt(t,e))}Vs.NULL=new Fs;const js=function(){return Ms(Ht(),Gt())};let qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=js,t})();function Gs(t){return t instanceof qs?t.nativeElement:t}class Bs{}let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Hs(),t})();const Hs=function(){const t=Gt(),e=Pt(Ht().index,t);return function(t){return t[11]}(ht(e)?e:t)};let zs=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class $s{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ks=new $s("12.2.0");class Qs{constructor(){}supports(t){return Io(t)}create(t){return new Js(t)}}const Ws=(t,e)=>e;class Js{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ws}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ea(n,r,i)?e:n,s=ea(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ys(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ys{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Xs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||xo(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oa(){return new sa([new Qs])}let sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||oa()),deps:[[t,new An,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(t){return t.name||typeof t}(t)}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:oa}),t})();function aa(){return new ua([new na])}let ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||aa()),deps:[[t,new An,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:aa}),t})();function ca(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ot(o)),ft(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ca(e[1],e,n,r)}const s=n.type;if(8&s)ca(t,e,n.child,r);else if(32&s){const t=Tr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=qr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Er(e[16]);ca(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class la{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ca(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Or(t,n),sn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Ai(this._lView[1],this._lView,null,t)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{zi(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ha extends la{constructor(t){super(t),this._view=t}detectChanges(){$i(this._view)}checkNoChanges(){!function(t){Wt(!0);try{$i(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const fa=function(t){return function(t,e,n){if(pt(t)&&!n){const n=Pt(t.index,e);return new la(n,n)}return 47&t.type?new la(e[16],e):null}(Ht(),Gt(),16==(16&t))};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t})();const pa=[new na],ga=new sa([new Qs]),ma=new ua(pa),ya=function(){return _a(Ht(),Gt())};let va=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const ba=va,wa=class extends ba{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new la(n)}};function _a(t,e){return 4&t.type?new wa(e,t,Ms(t,e)):null}class Ta{}class Ea{}const Sa=function(){return Oa(Ht(),Gt())};let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Aa=Ca,Ia=class extends Aa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ms(this._hostTNode,this._hostLView)}get injector(){return new $e(this._hostTNode,this._hostLView)}get parentInjector(){const t=Le(this._hostTNode,this._hostLView);if(Ae(t)){const e=xe(t,this._hostLView),n=Ie(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ta,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ia(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],on(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Gr(i,o),a=n[11],u=Vr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),on(ka(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);n&&(sn(ka(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);return n&&null!=sn(ka(this._lContainer),e)?new la(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function xa(t){return t[8]}function ka(t){return t[8]||(t[8]=[])}function Oa(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Ot(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Pr(n,Vr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ji(r,e,i,t),Zi(e,n)}return new Ia(n,t,e)}const Da={};class Na extends Vs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new La(e,this.ngModule)}}function Ra(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Pa=new Xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class La extends Ps{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ra(this.componentDef.inputs)}get outputs(){return Ra(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Da,i);return o!==Da||r===Da?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Bs,kt),s=i.get(zs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===U.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||br,clean:Qi,playerHandler:e||null,flags:0}}(),f=Ci(0,null,null,1,0,null,null,null,null,null),d=gi(null,f,h,l,null,null,o,a,s,i);let p,g;oe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(eo(a,u,!0),null!==t&&(_e(i,t,u),null!==a.classes&&$r(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Si(e),null,e.onPush?64:16,n[20],a,r,c,o||null,null);return s.firstCreatePass&&(Fe(Ne(a,n),s,e.type),Ni(s,a),Pi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)_e(a,c,["ng-version",Ks.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&_e(a,c,t),e&&e.length>0&&$r(a,c,e.join(" "))}if(g=Rt(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(t,r,e,yi(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);pr(i,e);const o=Nt(r,e);return o&&pr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ht();e.contentQueries(1,s,t.directiveStart)}const a=Ht();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),Oi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Di(e,s)),s}(t,this.componentDef,d,h,[bo]),vi(f,d,null)}finally{le()}return new Fa(this.componentType,p,Ms(g,d),d,g)}}class Fa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ha(r),this.componentType=t}get injector(){return new $e(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Va=new Map;class Ua extends Ta{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Na(this);const n=lt(t),r=t[W]||null;r&&Cs(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=co(t,e,[{provide:Ta,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vo.THROW_IF_NOT_FOUND,n=N.Default){return t===vo||t===Ta||t===no?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ma extends Ea{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Va.get(i),n),Va.set(i,n));const o=wr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ua(this.moduleType,t)}}function ja(t){return e=>{setTimeout(t,void 0,e)}}const qa=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=ja(u),a&&(a=ja(a)),c&&(c=ja(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Ga(){return this._results[Ao()]()}class Ba{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ao(),n=Ba.prototype;n[e]||(n[e]=Ga)}get changes(){return this._changes||(this._changes=new qa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=nn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Za{constructor(t){this.queryList=t,this.matches=null}clone(){return new Za(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ha{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ha(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nu(t,e).matches&&this.queries[e].setDirty()}}class za{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class $a{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new $a(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ka{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ka(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Qa(e,i)),this.matchTNodeWithReadOption(t,e,Be(e,t,i,!1,!1))}else n===va?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Be(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===qs||r===Ca||r===va&&4&e.type)this.addMatch(e.index,-2);else{const n=Be(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Wa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ms(t,e):4&t.type?_a(t,e):null}(e,t):-2===n?function(t,e,n){return n===qs?Ms(e,t):n===va?_a(e,t):n===Ca?Oa(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function Ja(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Wa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ya(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ja(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ya(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ya(n[1],n,i,r)}}}}}return r}function Xa(t){const e=Gt(),n=Bt(),r=ee();ne(r+1);const i=nu(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ya(n,e,r,[]):Ja(n,e,i,r);t.reset(o,Gs),t.notifyOnChanges()}return!0}return!1}function tu(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=Ht();(function(t,e,n){null===t.queries&&(t.queries=new $a),t.queries.track(new Ka(e,n))})(i,new za(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Ba(4==(4&n));Ai(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ha),e[19].queries.push(new Za(r))}(i,Gt(),n)}function eu(){return t=Gt(),e=ee(),t[19].queries[e].queryList;var t,e}function nu(t,e){return t.queries.getByIndex(e)}const ru=new Xe("Application Initializer");let iu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Us,this.reject=Us,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(jo(e))t.push(e);else if(Go(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(ru,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ou=new Xe("AppId"),su={provide:ou,useFactory:function(){return`${au()}${au()}${au()}`},deps:[]};function au(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uu=new Xe("Platform Initializer"),cu=new Xe("Platform ID"),lu=new Xe("appBootstrapListener");let hu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const fu=new Xe("LocaleId"),du=new Xe("DefaultCurrencyCode");class pu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const gu=function(t){return new Ma(t)},mu=gu,yu=function(t){return Promise.resolve(gu(t))},vu=function(t){const e=gu(t),n=wr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new La(n)),t},[]);return new pu(e,n)},bu=vu,wu=function(t){return Promise.resolve(vu(t))};let _u=(()=>{class t{constructor(){this.compileModuleSync=mu,this.compileModuleAsync=yu,this.compileModuleAndAllComponentsSync=bu,this.compileModuleAndAllComponentsAsync=wu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Tu=(()=>Promise.resolve(0))();function Eu(t){"undefined"==typeof Zone?Tu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Su{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iu(t),t.isCheckStableRunning=!0,Au(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return xu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ku(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return xu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ku(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Iu(t),Au(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Su.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Su.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Cu,Us,Us);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Cu={};function Au(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ku(t){t._nesting--,Au(t)}class Ou{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Du=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Su.assertNotInAngularZone(),Eu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(Su))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Nu=(()=>{class t{constructor(){this._applications=new Map,Lu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Lu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Ru{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Pu(t){Lu=t}let Lu=new Ru,Fu=!0,Vu=!1;function Uu(){return Vu=!0,Fu}function Mu(){if(Vu)throw new Error("Cannot enable prod mode after platform setup.");Fu=!1}let ju;const qu=new Xe("AllowMultipleToken");class Gu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r=`Platform: ${e}`,i=new Xe(r);return(e=[])=>{let o=Zu();if(!o||o.injector.get(qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(ju&&!ju.destroyed&&!ju.injector.get(qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ju=t.get(Hu);const e=t.get(uu,null);e&&e.forEach(t=>t())}(vo.create({providers:t,name:r}))}return function(t){const e=Zu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Zu(){return ju&&!ju.destroyed?ju:null}let Hu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ou:("zone.js"===t?void 0:t)||new Su({enableLongStackTrace:Uu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Su,useValue:n}];return n.run(()=>{const i=vo.create({providers:r,parent:this.injector,name:t.moduleType.name}),o=t.create(i),s=o.injector.get(vr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});o.onDestroy(()=>{Ku(this._modules,o),t.unsubscribe()})}),function(t,n,r){try{const e=r();return jo(e)?e.catch(e=>{throw n.runOutsideAngular(()=>t.handleError(e)),e}):e}catch(e){throw n.runOutsideAngular(()=>t.handleError(e)),e}}(s,n,()=>{const t=o.injector.get(iu);return t.runInitializers(),t.donePromise.then(()=>(Cs(o.injector.get(fu,Es)||Es),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const n=zu({},e);return function(t,e,n){const r=new Ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get($u);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(vo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function zu(t,e){return Array.isArray(e)?e.reduce(zu,t):Object.assign(Object.assign({},t),e)}let $u=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Su.assertNotInAngularZone(),Eu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(t=>(0,u.x)()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r}}(c)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ps?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=function(t){return t.isBoundToModule}(n)?void 0:this._injector.get(Ta),i=n.create(vo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Du,null),a=s&&i.injector.get(Nu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ku(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ku(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(Su),bn(vo),bn(vr),bn(Vs),bn(iu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ku(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Qu{}class Wu{}const Ju={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Yu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ju}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Xu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Xu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(bn(_u),bn(Wu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Xu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const tc=function(t){return null},ec=Bu(null,"core",[{provide:cu,useValue:"unknown"},{provide:Hu,deps:[vo]},{provide:Nu,deps:[]},{provide:hu,deps:[]}]),nc=[{provide:$u,useClass:$u,deps:[Su,vo,vr,Vs,iu]},{provide:Pa,deps:[Su],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:iu,useClass:iu,deps:[[new Cn,ru]]},{provide:_u,useClass:_u,deps:[]},su,{provide:sa,useFactory:function(){return ga},deps:[]},{provide:ua,useFactory:function(){return ma},deps:[]},{provide:fu,useFactory:function(t){return Cs(t=t||"undefined"!=typeof $localize&&$localize.locale||Es),t},deps:[[new Sn(fu),new Cn,new An]]},{provide:du,useValue:"USD"}];let rc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(bn($u))},t.\u0275mod=it({type:t}),t.\u0275inj=S({providers:nc}),t})()},57:function(t,e,n){"use strict";n.d(e,{hO:function(){return A},xv:function(){return b},Dh:function(){return v},HU:function(){return d},GT:function(){return y},sI:function(){return S},on:function(){return _},ss:function(){return p},pX:function(){return m},yq:function(){return T}});var r=n(7771),i=n(3637),o=n(3342),s=n(3101),a=n(309),u=n(3018),c=n(2329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),w=new u.GfV("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const T=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[v,u.R0b,[new u.FiY,b]]};let A=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",w.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[C]}),t})()},9759:function(t,e,n){"use strict";var r,i,o=n(4762),s=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w,_=m;(w=_).INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),w.registerVersion(h,"0.6.29",undefined),w.registerVersion("fire-js",""),e.Z=_},6034:function(t,e,n){"use strict";n.d(e,{wA:function(){return o},H0:function(){return c}});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===s?void 0:t}var c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.d(e,{in:function(){return s},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var i,o=[],s=(()=>{return(t=s||(s={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",s;var t})(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:function(t,e,n){"use strict";n.d(e,{BH:function(){return u},LL:function(){return _},r3:function(){return S},Sg:function(){return c},ne:function(){return C},p$:function(){return o},ZB:function(){return s},m9:function(){return x},z$:function(){return l},jU:function(){return d},ru:function(){return p},d:function(){return m},w1:function(){return y},uI:function(){return h},UG:function(){return f},b$:function(){return g},G6:function(){return b},Mn:function(){return v}});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)!e.hasOwnProperty(n)||!a(n)||(t[n]=s(t[n],e[n]));return t}function a(t){return"__proto__"!==t}var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function p(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function y(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return l().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?T(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new w(i,a,r);return u},t}();function T(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new A(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function x(t){return t&&t._delegate?t._delegate:t}},2329:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(9759);r.Z.registerVersion("firebase","8.9.0","app"),r.Z.SDK_VERSION="8.9.0"},7574:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487);var u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:function(t){return 0===t.length?a.y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(2494),i=n(4449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:function(t,e,n){"use strict";n.d(e,{Yc:function(){return c},xQ:function(){return l}});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},8858:function(t,e,n){"use strict";n.d(e,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:function(t,e,n){"use strict";n.d(e,{L:function(){return c}});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),u=n(4449);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){super(),this._parentSubscriber=t;let s,a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(f){t=t||[],f instanceof s?t=t.concat(c(f.errors)):t.push(f)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(t,e,n){"use strict";n.d(e,{IY:function(){return s},Ds:function(){return a},ft:function(){return u}});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2441:function(t,e,n){"use strict";n.d(e,{c:function(){return a},N:function(){return u}});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:function(t,e,n){"use strict";n.d(e,{E:function(){return i},c:function(){return o}});var r=n(7574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:function(t,e,n){"use strict";n.d(e,{n:function(){return s}});var r=n(7574),i=n(5015),o=n(4087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},6682:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},5917:function(t,e,n){"use strict";n.d(e,{of:function(){return s}});var r=n(4869),i=n(6693),o=n(4087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},8002:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});var r=n(9773),i=n(4487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:function(t,e,n){"use strict";n.d(e,{zg:function(){return s}});var r=n(8002),i=n(4402),o=n(5345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:function(t,e,n){"use strict";n.d(e,{ht:function(){return l},QV:function(){return u}});var r=n(7393),i=n(9193),o=n(5917),s=n(7574);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return t=this.error,new s.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function u(t,e=0){return function(n){return n.lift(new c(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1307:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(7393);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},3101:function(t,e,n){"use strict";n.d(e,{R:function(){return p}});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var f=n(9796);class d extends r.y{constructor(t,e=0,n=h){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(!(0,f.k)(r=e)&&r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),(!n||"function"!=typeof n.schedule)&&(this.scheduler=h)}static create(t,e=0,n=h){return new d(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(d.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}},3342:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var r=n(7393);function i(){}var o=n(9105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:function(t,e,n){"use strict";n.d(e,{r:function(){return o}});var r=n(7574),i=n(5319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(t,e,n){"use strict";n.d(e,{o:function(){return o}});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:function(t,e,n){"use strict";n.d(e,{c:function(){return s},N:function(){return o}});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},377:function(t,e,n){"use strict";n.d(e,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(t,e,n){"use strict";n.d(e,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:function(){return r}})},4487:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},9796:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},1555:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return r}})},4072:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return r}})},4869:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return r}})},7444:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[s.L])return(t=>e=>{const n=t[s.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e))(t);if(t&&"function"==typeof t[o.hZ])return(t=>e=>{const n=t[o.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=`You provided ${(0,c.K)(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}}},5015:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},3256:function(t,e,n){"use strict";var r=n(3018);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l((0,r.LFG)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(s).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=(()=>((S=S||{})[S.Zero=0]="Zero",S[S.One=1]="One",S[S.Two=2]="Two",S[S.Few=3]="Few",S[S.Many=4]="Many",S[S.Other=5]="Other",S))();const C=r.kL8;class A{}let I=(()=>{class t extends A{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new O(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new O(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class O{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:A,useClass:I}]}),t})();let N=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new R((0,r.LFG)(s),window)}),t})();class R{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=P(this.window.history)||P(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function P(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class L extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new L,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(V=V||document.querySelector("base"),V?V.getAttribute("href"):null);return null==e?null:function(t){F=F||document.createElement("a"),F.setAttribute("href",t);const e=F.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let F,V=null;const U=new r.OlP("TRANSITION_ID"),M=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[U,s,r.zs3],multi:!0}];class j{static init(){(0,r.VLi)(new j)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let q=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const G=new r.OlP("EventManagerPlugins");let B=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(G),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let H=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),z=(()=>{class t extends H{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach($),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function $(t){o().remove(t)}const K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function W(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?W(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function J(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Y=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=W(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(B),r.LFG(z),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(K[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=K[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=K[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,J(n)):this.eventManager.addEventListener(t,e,J(n))}}class tt extends X{constructor(t,e,n,r){super(t),this.component=n;const i=W(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Q,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends X{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=W(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends Z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends Z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&st[r](t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ut=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){L.makeCurrent(),j.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),ct=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:G,useClass:nt,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:G,useClass:at,multi:!0,deps:[s]},[],{provide:Y,useClass:Y,deps:[B,z,r.AFp]},{provide:r.FYo,useExisting:Y},{provide:H,useExisting:z},{provide:z,useClass:z,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:B,useClass:B,deps:[G,r.R0b]},{provide:class{},useClass:q,deps:[]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:U,useExisting:r.AFp},M]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:ct,imports:[D,r.hGG]}),t})();"undefined"!=typeof window&&window;var ht=n(57),ft=n(3637),dt=n(7574),pt=n(4402),gt=n(5917),mt=n(3282);function yt(...t){return(0,mt.J)(1)((0,gt.of)(...t))}var vt=n(4869);function bt(...t){const e=t[t.length-1];return(0,vt.K)(e)?(t.pop(),n=>yt(t,n,e)):e=>yt(t,e)}var wt=n(7393);function _t(){return t=>t.lift(new Tt)}class Tt{call(t,e){return e.subscribe(new Et(t))}}class Et extends wt.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var St=n(8002);function Ct(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new At(t,e,n))}}class At{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new It(t,this.accumulator,this.seed,this.hasSeed))}}class It extends wt.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class xt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new kt(t,this.compare,this.keySelector))}}class kt extends wt.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Ot(t,e){return function(n){return n.lift(new Dt(t,e))}}class Dt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Nt(t,this.predicate,this.thisArg))}}class Nt extends wt.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Rt=n(309),Pt=n(2329),Lt=n(9759),Ft=n(4762),Vt=n(4685),Ut=n(300),Mt=function(t,e){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function jt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qt,Gt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bt=Bt||{},Zt=Gt||self;function Ht(){}function zt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $t(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Kt="closure_uid_"+(1e9*Math.random()>>>0),Qt=0;function Wt(t,e,n){return t.call.apply(t.bind,arguments)}function Jt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wt:Jt).apply(null,arguments)}function Xt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function te(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ee(){this.s=this.s,this.o=this.o}var ne={};ee.prototype.s=!1,ee.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Kt)&&t[Kt]||(t[Kt]=++Qt)}(this);delete ne[t]}},ee.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var re=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ie=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function oe(t){return Array.prototype.concat.apply([],arguments)}function se(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ae(t){return/^[\s\xa0]*$/.test(t)}var ue,ce=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function le(t,e){return-1!=t.indexOf(e)}function he(t,e){return t<e?-1:t>e?1:0}t:{var fe=Zt.navigator;if(fe){var de=fe.userAgent;if(de){ue=de;break t}}ue=""}function pe(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ge(t){var e={};for(var n in t)e[n]=t[n];return e}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ve(t){return ve[" "](t),t}ve[" "]=Ht;var be,we,_e=le(ue,"Opera"),Te=le(ue,"Trident")||le(ue,"MSIE"),Ee=le(ue,"Edge"),Se=Ee||Te,Ce=le(ue,"Gecko")&&!(le(ue.toLowerCase(),"webkit")&&!le(ue,"Edge"))&&!(le(ue,"Trident")||le(ue,"MSIE"))&&!le(ue,"Edge"),Ae=le(ue.toLowerCase(),"webkit")&&!le(ue,"Edge");function Ie(){var t=Zt.document;return t?t.documentMode:void 0}t:{var xe="",ke=(we=ue,Ce?/rv:([^\);]+)(\)|;)/.exec(we):Ee?/Edge\/([\d\.]+)/.exec(we):Te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(we):Ae?/WebKit\/(\S+)/.exec(we):_e?/(?:Version)[ \/]?(\S+)/.exec(we):void 0);if(ke&&(xe=ke?ke[1]:""),Te){var Oe=Ie();if(null!=Oe&&Oe>parseFloat(xe)){be=String(Oe);break t}}be=xe}var De={};function Ne(){return t=De,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ce(String(be)).split("."),n=ce("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=he(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||he(0==o[2].length,0==s[2].length)||he(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}var Re=Zt.document&&Te&&(Ie()||parseInt(be,10))||void 0,Pe=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zt.addEventListener("test",Ht,e),Zt.removeEventListener("test",Ht,e)}catch(n){}return t}();function Le(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Fe(t,e){if(Le.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ce){t:{try{ve(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ve[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fe.Z.h.call(this)}}Le.prototype.h=function(){this.defaultPrevented=!0},te(Fe,Le);var Ve={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Me=0;function je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Me,this.ca=this.fa=!1}function qe(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ge(t){this.src=t,this.g={},this.h=0}function Be(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=re(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qe(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ze(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Ge.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Ze(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new je(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),ze={};function $e(t,e,n,r,i){if(r&&r.once)return Qe(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);return null}return n=nn(n),t&&t[Ue]?t.N(e,n,$t(r)?!!r.capture:!!r,i):Ke(t,e,n,!1,r,i)}function Ke(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=$t(i)?!!i.capture:!!i,a=tn(t);if(a||(t[He]=a=new Ge(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Xe;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ye(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Qe(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Qe(t,e[o],n,r,i);return null}return n=nn(n),t&&t[Ue]?t.O(e,n,$t(r)?!!r.capture:!!r,i):Ke(t,e,n,!0,r,i)}function We(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)We(t,e[o],n,r,i);else r=$t(r)?!!r.capture:!!r,n=nn(n),t&&t[Ue]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ze(o=t.g[e],n,r,i))&&(qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=tn(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ze(e,n,r,i)),(n=-1<t?e[t]:null)&&Je(n))}function Je(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ue])Be(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ye(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tn(e))?(Be(n,t),0==n.h&&(n.src=null,e[He]=null)):qe(t)}}}function Ye(t){return t in ze?ze[t]:ze[t]="on"+t}function Xe(t,e){if(t.ca)t=!0;else{e=new Fe(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Je(t),t=n.call(r,e)}return t}function tn(t){return(t=t[He])instanceof Ge?t:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(t){return"function"==typeof t?t:(t[en]||(t[en]=function(e){return t.handleEvent(e)}),t[en])}function rn(){ee.call(this),this.i=new Ge(this),this.P=this,this.I=null}function on(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Le(e,t);else if(e instanceof Le)e.target=e.target||t;else{var i=e;ye(e=new Le(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=sn(s,r,!0,e)&&i}if(i=sn(s=e.g=t,r,!0,e)&&i,i=sn(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=sn(s=e.g=n[o],r,!1,e)&&i}function sn(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Be(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}te(rn,ee),rn.prototype[Ue]=!0,rn.prototype.removeEventListener=function(t,e,n,r){We(this,t,e,n,r)},rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)qe(n[r]);delete e.g[t],e.h--}}this.I=null},rn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var an=Zt.JSON.stringify;function un(){var t=mn,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cn,ln=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=hn.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),hn=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new fn},function(t){return t.reset()}),fn=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function dn(t){Zt.setTimeout(function(){throw t},0)}function pn(t,e){cn||function(){var t=Zt.Promise.resolve(void 0);cn=function(){t.then(yn)}}(),gn||(cn(),gn=!0),mn.add(t,e)}var gn=!1,mn=new ln;function yn(){for(var t;t=un();){try{t.h.call(t.g)}catch(n){dn(n)}var e=hn;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gn=!1}function vn(t,e){rn.call(this),this.h=t||1,this.g=e||Zt,this.j=Yt(this.kb,this),this.l=Date.now()}function bn(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function wn(t,e,n){if("function"==typeof t)n&&(t=Yt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Yt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zt.setTimeout(t,e||0)}function _n(t){t.g=wn(function(){t.g=null,t.i&&(t.i=!1,_n(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}te(vn,rn),(qt=vn.prototype).da=!1,qt.S=null,qt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),on(this,"tick"),this.da&&(bn(this),this.start()))}},qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){vn.Z.M.call(this),bn(this),delete this.g};var Tn=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:_n(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ee);function En(t){ee.call(this),this.h=t,this.g={}}te(En,ee);var Sn=[];function Cn(t,e,n,r){Array.isArray(n)||(n&&(Sn[0]=n.toString()),n=Sn);for(var i=0;i<n.length;i++){var o=$e(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function An(t){pe(t.g,function(t,e){this.g.hasOwnProperty(e)&&Je(t)},t),t.g={}}function In(){this.g=!0}function xn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return an(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}En.prototype.M=function(){En.Z.M.call(this),An(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},In.prototype.Aa=function(){this.g=!1},In.prototype.info=function(){};var kn={},On=null;function Dn(){return On=On||new rn}function Nn(t){Le.call(this,kn.Ma,t)}function Rn(t){var e=Dn();on(e,new Nn(e,t))}function Pn(t,e){Le.call(this,kn.STAT_EVENT,t),this.stat=e}function Ln(t){var e=Dn();on(e,new Pn(e,t))}function Fn(t,e){Le.call(this,kn.Na,t),this.size=e}function Vn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){t()},e)}kn.Ma="serverreachability",te(Nn,Le),kn.STAT_EVENT="statevent",te(Pn,Le),kn.Na="timingevent",te(Fn,Le);var Un={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jn(){}function qn(){}jn.prototype.h=null;var Gn,Bn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zn(){Le.call(this,"d")}function Hn(){Le.call(this,"c")}function zn(){}function $n(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new En(this),this.P=Qn,this.W=new vn(t=Se?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}te(Zn,Le),te(Hn,Le),te(zn,jn),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Gn=new zn;var Qn=45e3,Wn={},Jn={};function Yn(t,e,n){t.K=1,t.v=_r(gr(e)),t.s=n,t.U=!0,Xn(t,null)}function Xn(t,e){t.F=Date.now(),rr(t),t.A=gr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Pr(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Kn,t.g=Li(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Tn(Yt(t.Ia,t,t.g),t.O)),Cn(t.V,t.g,"readystatechange",t.gb),e=t.H?ge(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Rn(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function tr(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function er(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=nr(t,n))==Jn){4==e&&(t.o=4,Ln(14),i=!1),xn(t.j,t.m,null,"[Incomplete Response]");break}if(r==Wn){t.o=4,Ln(15),xn(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}xn(t.j,t.m,r,null),ur(t,r)}tr(t)&&r!=Jn&&r!=Wn&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ln(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ii(e),e.L=!0,Ln(11))):(xn(t.j,t.m,n,"[Invalid Chunked Response]"),ar(t),sr(t))}function nr(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Jn:(n=Number(e.substring(n,r)),isNaN(n)?Wn:(r+=1)+n>e.length?Jn:(e=e.substr(r,n),t.C=r+n,e))}function rr(t){t.Y=Date.now()+t.P,ir(t,t.P)}function ir(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Vn(Yt(t.eb,t),e)}function or(t){t.B&&(Zt.clearTimeout(t.B),t.B=null)}function sr(t){0==t.l.G||t.I||Oi(t.l,t)}function ar(t){or(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,bn(t.W),An(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ur(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||qr(n.i,t)))if(n.I=t.N,!t.J&&qr(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])t:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vn(Yt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break t;ki(n),vi(n)}Ai(n),Ln(18)}if(1>=jr(n.i)&&n.ka){try{n.ka()}catch(m){}n.ka=void 0}}else Ni(n,11)}else if((t.J||n.g==t)&&ki(n),!ae(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(le(l,"spdy")||le(l,"quic")||le(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Gr(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,wr(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Pi(r,r.H?r.la:null,r.W),d.J){Br(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(or(p),rr(p)),r.g=d}else Ci(r);0<n.l.length&&_i(n)}else"stop"!=o[0]&&"close"!=o[0]||Ni(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ni(n,7):yi(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Rn(4)}catch(m){}}function cr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zt(t)||"string"==typeof t)ie(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(zt(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(zt(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function lr(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof lr)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function hr(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];fr(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)fr(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function fr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qt=$n.prototype).setTimeout=function(t){this.P=t},qt.gb=function(t){t=t.target;var e=this.L;e&&3==fi(t)?e.l():this.Ia(t)},qt.Ia=function(t){try{if(t==this.g)t:{var e=fi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Se||this.g&&(this.h.h||this.g.ga()||di(this.g)))){this.I||4!=e||7==n||Rn(8==n||0>=r?3:2),or(this);var i=this.g.ba();this.N=i;e:if(tr(this)){var o=di(this.g);t="";var s=o.length,a=4==fi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ar(this),sr(this);var u="";break e}this.h.i=new Zt.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ln(12),ar(this),sr(this);break t}xn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ur(this,i)}this.U?(er(this,e,u),Se&&this.i&&3==e&&(Cn(this.V,this.W,"tick",this.fb),this.W.start())):(xn(this.j,this.m,u,null),ur(this,u)),4==e&&ar(this),this.i&&!this.I&&(4==e?Oi(this.l,this):(this.i=!1,rr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ln(12)):(this.o=0,Ln(13)),ar(this),sr(this)}}}catch(f){}},qt.fb=function(){if(this.g){var t=fi(this.g),e=this.g.ga();this.C<e.length&&(or(this),er(this,t,e),this.i&&4!=t&&rr(this))}},qt.cancel=function(){this.I=!0,ar(this)},qt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Rn(3),Ln(17)),ar(this),this.o=2,sr(this)):ir(this,this.Y-t)},(qt=lr.prototype).R=function(){hr(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},qt.T=function(){return hr(this),this.g.concat()},qt.get=function(t,e){return fr(this.h,t)?this.h[t]:e},qt.set=function(t,e){fr(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},qt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var dr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pr(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof pr){this.g=void 0!==e?e:t.g,mr(this,t.j),this.s=t.s,yr(this,t.i),vr(this,t.m),this.l=t.l,e=t.h;var n=new Or;n.i=e.i,e.g&&(n.g=new lr(e.g),n.h=e.h),br(this,n),this.o=t.o}else t&&(n=String(t).match(dr))?(this.g=!!e,mr(this,n[1]||"",!0),this.s=Tr(n[2]||""),yr(this,n[3]||"",!0),vr(this,n[4]),this.l=Tr(n[5]||"",!0),br(this,n[6]||"",!0),this.o=Tr(n[7]||"")):(this.g=!!e,this.h=new Or(null,this.g))}function gr(t){return new pr(t)}function mr(t,e,n){t.j=n?Tr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yr(t,e,n){t.i=n?Tr(e,!0):e}function vr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function br(t,e,n){e instanceof Or?(t.h=e,function(t,e){e&&!t.j&&(Dr(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Nr(this,e),Pr(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Er(e,xr)),t.h=new Or(e,t.g))}function wr(t,e,n){t.h.set(e,n)}function _r(t){return wr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Er(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Er(e,Cr,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Er(e,Cr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Er(n,"/"==n.charAt(0)?Ir:Ar,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Er(n,kr)),t.join("")};var Cr=/[#\/\?@]/g,Ar=/[#\?:]/g,Ir=/[#\?]/g,xr=/[#\?@]/g,kr=/#/g;function Or(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Dr(t){t.g||(t.g=new lr,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Nr(t,e){Dr(t),e=Lr(t,e),fr(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,fr((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&hr(t)))}function Rr(t,e){return Dr(t),e=Lr(t,e),fr(t.g.h,e)}function Pr(t,e,n){Nr(t,e),0<n.length&&(t.i=null,t.g.set(Lr(t,e),se(n)),t.h+=n.length)}function Lr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(qt=Or.prototype).add=function(t,e){Dr(this),this.i=null,t=Lr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},qt.forEach=function(t,e){Dr(this),this.g.forEach(function(n,r){ie(n,function(n){t.call(e,n,r,this)},this)},this)},qt.T=function(){Dr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},qt.R=function(t){Dr(this);var e=[];if("string"==typeof t)Rr(this,t)&&(e=oe(e,this.g.get(Lr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=oe(e,t[n])}return e},qt.set=function(t,e){return Dr(this),this.i=null,Rr(this,t=Lr(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},qt.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Fr=function(t,e){this.h=t,this.g=e};function Vr(t){this.l=t||Ur,t=Zt.PerformanceNavigationTiming?0<(t=Zt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ea&&Zt.g.Ea()&&Zt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ur=10;function Mr(t){return!!t.h||!!t.g&&t.g.size>=t.j}function jr(t){return t.h?1:t.g?t.g.size:0}function qr(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Gr(t,e){t.g?t.g.add(e):t.h=e}function Br(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Zr(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=jt(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return se(t.i)}function Hr(){}function zr(){this.g=new Hr}function $r(t,e,n){var r=n||"";try{cr(t,function(t,n){var i=t;$t(t)&&(i=an(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Qr(t){this.l=t.$b||null,this.j=t.ib||!1}function Wr(t,e){rn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Jr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vr.prototype.cancel=function(){var t,e;if(this.i=Zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=jt(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Hr.prototype.stringify=function(t){return Zt.JSON.stringify(t,void 0)},Hr.prototype.parse=function(t){return Zt.JSON.parse(t,void 0)},te(Qr,jn),Qr.prototype.g=function(){return new Wr(this.l,this.j)},Qr.prototype.i=function(t){return function(){return t}}({}),te(Wr,rn);var Jr=0;function Yr(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Xr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ti(t)}function ti(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(qt=Wr.prototype).open=function(t,e){if(this.readyState!=Jr)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ti(this)},qt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xr(this)),this.readyState=Jr},qt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Zt.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yr(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},qt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xr(this):ti(this),3==this.readyState&&Yr(this)}},qt.Ua=function(t){this.g&&(this.response=this.responseText=t,Xr(this))},qt.Ta=function(t){this.g&&(this.response=t,Xr(this))},qt.ha=function(){this.g&&Xr(this)},qt.setRequestHeader=function(t,e){this.v.append(t,e)},qt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ei=Zt.JSON.parse;function ni(t){rn.call(this),this.headers=new lr,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ri,this.K=this.L=!1}te(ni,rn);var ri="",ii=/^https?$/i,oi=["POST","PUT"];function si(t){return"content-type"==t.toLowerCase()}function ai(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ui(t),li(t)}function ui(t){t.D||(t.D=!0,on(t,"complete"),on(t,"error"))}function ci(t){if(t.h&&void 0!==Bt&&(!t.C[1]||4!=fi(t)||2!=t.ba()))if(t.v&&4==fi(t))wn(t.Fa,0,t);else if(on(t,"readystatechange"),4==fi(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(dr)[1]||null;if(!o&&Zt.self&&Zt.self.location){var s=Zt.self.location.protocol;o=s.substr(0,s.length-1)}i=!ii.test(o?o.toLowerCase():"")}e=i}if(e)on(t,"complete"),on(t,"success");else{t.m=6;try{var a=2<fi(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",ui(t)}}finally{li(t)}}}function li(t,e){if(t.g){hi(t);var n=t.g,r=t.C[0]?Ht:null;t.g=null,t.C=null,e||on(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function hi(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Zt.clearTimeout(t.A),t.A=null)}function fi(t){return t.g?t.g.readyState:0}function di(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ri:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return pe(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):wr(t,e,n))}function gi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mi(t){this.za=0,this.l=[],this.h=new In,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gi("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gi("baseRetryDelayMs",5e3,t),this.$a=gi("retryDelaySeedMs",1e4,t),this.Ya=gi("forwardChannelMaxRetries",2,t),this.ra=gi("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Vr(t&&t.concurrentRequestLimit),this.Ca=new zr,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function yi(t){if(bi(t),3==t.G){var e=t.V++,n=gr(t.F);wr(n,"SID",t.J),wr(n,"RID",e),wr(n,"TYPE","terminate"),Ei(t,n),(e=new $n(t,t.h,e,void 0)).K=2,e.v=_r(gr(n)),n=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(n=Zt.navigator.sendBeacon(e.v.toString(),"")),!n&&Zt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Li(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rr(e)}Ri(t)}function vi(t){t.g&&(Ii(t),t.g.cancel(),t.g=null)}function bi(t){vi(t),t.u&&(Zt.clearTimeout(t.u),t.u=null),ki(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Zt.clearTimeout(t.m),t.m=null)}function wi(t,e){t.l.push(new Fr(t.Za++,e)),3==t.G&&_i(t)}function _i(t){Mr(t.i)||t.m||(t.m=!0,pn(t.Ha,t),t.C=0)}function Ti(t,e){var n;n=e?e.m:t.V++;var r=gr(t.F);wr(r,"SID",t.J),wr(r,"RID",n),wr(r,"AID",t.U),Ei(t,r),t.o&&t.s&&pi(r,t.o,t.s),n=new $n(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Si(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gr(t.i,n),Yn(n,r,e)}function Ei(t,e){t.j&&cr({},function(t,n){wr(e,n,t)})}function Si(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Yt(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{$r(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Ci(t){t.g||t.u||(t.Y=1,pn(t.Ga,t),t.A=0)}function Ai(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Vn(Yt(t.Ga,t),Di(t,t.A)),t.A++,0))}function Ii(t){null!=t.B&&(Zt.clearTimeout(t.B),t.B=null)}function xi(t){t.g=new $n(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=gr(t.oa);wr(e,"RID","rpc"),wr(e,"SID",t.J),wr(e,"CI",t.N?"0":"1"),wr(e,"AID",t.U),Ei(t,e),wr(e,"TYPE","xmlhttp"),t.o&&t.s&&pi(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=_r(gr(e)),n.s=null,n.U=!0,Xn(n,t)}function ki(t){null!=t.v&&(Zt.clearTimeout(t.v),t.v=null)}function Oi(t,e){var n=null;if(t.g==e){ki(t),Ii(t),t.g=null;var r=2}else{if(!qr(t.i,e))return;n=e.D,Br(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;on(r=Dn(),new Fn(r,n,e,i)),_i(t)}else Ci(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(jr(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Vn(Yt(t.Ha,t,e),Di(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ai(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ni(t,5);break;case 4:Ni(t,10);break;case 3:Ni(t,6);break;default:Ni(t,2)}}function Di(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ni(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Yt(t.jb,t);n||(n=new pr("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||mr(n,"https"),_r(n)),function(t,e){var n=new In;if(Zt.Image){var r=new Image;r.onload=Xt(Kr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xt(Kr,n,r,"TestLoadImage: error",!1,e),r.onabort=Xt(Kr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xt(Kr,n,r,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ln(2);t.G=0,t.j&&t.j.va(e),Ri(t),bi(t)}function Ri(t){t.G=0,t.I=-1,t.j&&((0!=Zr(t.i).length||0!=t.l.length)&&(t.i.i.length=0,se(t.l),t.l.length=0),t.j.ua())}function Pi(t,e,n){var r=function(t){return t instanceof pr?gr(t):new pr(t,void 0)}(n);if(""!=r.i)e&&yr(r,e+"."+r.i),vr(r,r.m);else{var i=Zt.location;r=function(t,e,n,r){var i=new pr(null,void 0);return t&&mr(i,t),e&&yr(i,e),n&&vr(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&pe(t.aa,function(t,e){wr(r,e,t)}),n=t.sa,(e=t.D)&&n&&wr(r,e,n),wr(r,"VER",t.ma),Ei(t,r),r}function Li(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(n&&t.Ba&&!t.qa?new Qr({ib:!0}):t.qa)).L=t.H,e}function Fi(){}function Vi(){if(Te&&!(10<=Number(Re)))throw Error("Environmental error: no available transport.")}function Ui(t,e){rn.call(this),this.g=new mi(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ae(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ae(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new qi(this)}function Mi(t){Zn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ji(){Hn.call(this),this.status=1}function qi(t){this.g=t}(qt=ni.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gn.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Gn),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void ai(this,o)}t=n||"";var i=new lr(this.headers);r&&cr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=si,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Zt.FormData&&t instanceof Zt.FormData,!(0<=re(oi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hi(this),0<this.B&&((this.K=function(t){return Te&&Ne()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=wn(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ai(this,o)}},qt.pa=function(){void 0!==Bt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))},qt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,on(this,"complete"),on(this,"abort"),li(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),li(this,!0)),ni.Z.M.call(this)},qt.Fa=function(){this.s||(this.F||this.v||this.l?ci(this):this.cb())},qt.cb=function(){ci(this)},qt.ba=function(){try{return 2<fi(this)?this.g.status:-1}catch(we){return-1}},qt.ga=function(){try{return this.g?this.g.responseText:""}catch(we){return""}},qt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ei(e)}},qt.Da=function(){return this.m},qt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=mi.prototype).ma=8,qt.G=1,qt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},qt.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new $n(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ye(n=ge(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Si(this,e,r),wr(i=gr(this.F),"RID",t),wr(i,"CVER",22),this.D&&wr(i,"X-HTTP-Session-Id",this.D),Ei(this,i),this.o&&n&&pi(i,this.o,n),Gr(this.i,e),this.Ra&&wr(i,"TYPE","init"),this.ja?(wr(i,"$req",r),wr(i,"SID","null"),e.$=!0,Yn(e,i,null)):Yn(e,i,r),this.G=2}}else 3==this.G&&(t?Ti(this,t):0==this.l.length||Mr(this.i)||Ti(this))},qt.Ga=function(){if(this.u=null,xi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Vn(Yt(this.bb,this),t)}},qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ln(10),vi(this),xi(this))},qt.ab=function(){null!=this.v&&(this.v=null,vi(this),Ai(this),Ln(19))},qt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ln(2)):(this.h.info("Failed to ping google.com"),Ln(1))},(qt=Fi.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Oa=function(){},Vi.prototype.g=function(t,e){return new Ui(t,e)},te(Ui,rn),Ui.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),pn(Yt(t.hb,t,e))),Ln(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Pi(t,null,t.W),_i(t)},Ui.prototype.close=function(){yi(this.g)},Ui.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,wi(this.g,e)}else this.v?((e={}).__data__=an(t),wi(this.g,e)):wi(this.g,t)},Ui.prototype.M=function(){this.g.j=null,delete this.j,yi(this.g),delete this.g,Ui.Z.M.call(this)},te(Mi,Zn),te(ji,Hn),te(qi,Fi),qi.prototype.xa=function(){on(this.g,"a")},qi.prototype.wa=function(t){on(this.g,new Mi(t))},qi.prototype.va=function(t){on(this.g,new ji(t))},qi.prototype.ua=function(){on(this.g,"b")},Vi.prototype.createWebChannel=Vi.prototype.g,Ui.prototype.send=Ui.prototype.u,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,Un.NO_ERROR=0,Un.TIMEOUT=8,Un.HTTP_ERROR=6,Mn.COMPLETE="complete",qn.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",rn.prototype.listen=rn.prototype.N,ni.prototype.listenOnce=ni.prototype.O,ni.prototype.getLastError=ni.prototype.La,ni.prototype.getLastErrorCode=ni.prototype.Da,ni.prototype.getStatus=ni.prototype.ba,ni.prototype.getResponseJson=ni.prototype.Qa,ni.prototype.getResponseText=ni.prototype.ga,ni.prototype.send=ni.prototype.ea;var Gi=Un,Bi=Mn,Zi=kn,Hi=10,zi=11,$i=Qr,Ki=qn,Qi=ni,Wi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Wi.o=-1;var Ji={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ft.ZT)(e,t),e}(Error),Xi=new Ut.Yd("@firebase/firestore");function to(){return Xi.logLevel}function eo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xi.logLevel<=Ut.in.DEBUG){var r=e.map(io);Xi.debug.apply(Xi,(0,Ft.ev)(["Firestore (8.8.1): "+t],r))}}function no(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xi.logLevel<=Ut.in.ERROR){var r=e.map(io);Xi.error.apply(Xi,(0,Ft.ev)(["Firestore (8.8.1): "+t],r))}}function ro(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xi.logLevel<=Ut.in.WARN){var r=e.map(io);Xi.warn.apply(Xi,(0,Ft.ev)(["Firestore (8.8.1): "+t],r))}}function io(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function oo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw no(e),new Error(e)}function so(t,e){t||oo()}function ao(t,e){return t}function uo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var co=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=uo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function lo(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function fo(t){return t+"\0"}var po=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Yi(Ji.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Yi(Ji.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Yi(Ji.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yi(Ji.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?lo(this.nanoseconds,t.nanoseconds):lo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),go=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new po(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function mo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&oo(),void 0===n?n=t.length-e:n>t.length-e&&oo(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(bo),_o=/^[_a-zA-Z][_a-zA-Z0-9]*$/,To=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return _o.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Yi(Ji.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Yi(Ji.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Yi(Ji.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(bo),Eo=function(){function t(t){this.fields=t,t.sort(To.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ho(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),So=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return lo(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();So.EMPTY_BYTE_STRING=new So("");var Co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(so(!!t),"string"==typeof t){var e=0,n=Co.exec(t);if(so(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Io(t.seconds),nanos:Io(t.nanos)}}function Io(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xo(t){return"string"==typeof t?So.fromBase64String(t):So.fromUint8Array(t)}function ko(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oo(t){var e=t.mapValue.fields.__previous_value__;return ko(e)?Oo(e):e}function Do(t){var e=Ao(t.mapValue.fields.__local_write_time__.timestampValue);return new po(e.seconds,e.nanos)}function No(t){return null==t}function Ro(t){return 0===t&&1/t==-1/0}function Po(t){return"number"==typeof t&&Number.isInteger(t)&&!Ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Lo=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(wo.fromString(e))},t.fromName=function(e){return new t(wo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return wo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new wo(e.slice()))},t}();function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ko(t)?4:10:oo()}function Vo(t,e){var n,r=Fo(t);if(r!==Fo(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Do(t).isEqual(Do(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ao(t.timestampValue),r=Ao(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,xo(t.bytesValue).isEqual(xo(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Io(t.geoPointValue.latitude)===Io(e.geoPointValue.latitude)&&Io(t.geoPointValue.longitude)===Io(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Io(t.integerValue)===Io(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Io(t.doubleValue),r=Io(e.doubleValue);return n===r?Ro(n)===Ro(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(mo(n)!==mo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vo(n[i],r[i])))return!1;return!0}(t,e);default:return oo()}}function Uo(t,e){return void 0!==(t.values||[]).find(function(t){return Vo(t,e)})}function Mo(t,e){var n,r,i,o,s=Fo(t),a=Fo(e);if(s!==a)return lo(s,a);switch(s){case 0:return 0;case 1:return lo(t.booleanValue,e.booleanValue);case 2:return r=e,(i=Io((n=t).integerValue||n.doubleValue))<(o=Io(r.integerValue||r.doubleValue))?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return jo(t.timestampValue,e.timestampValue);case 4:return jo(Do(t),Do(e));case 5:return lo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=xo(t),r=xo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=lo(n[i],r[i]);if(0!==o)return o}return lo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=lo(Io(t.latitude),Io(e.latitude));return 0!==n?n:lo(Io(t.longitude),Io(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Mo(n[i],r[i]);if(o)return o}return lo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=lo(r[s],o[s]);if(0!==a)return a;var u=Mo(n[r[s]],i[o[s]]);if(0!==u)return u}return lo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw oo()}}function jo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return lo(t,e);var n=Ao(t),r=Ao(e),i=lo(n.seconds,r.seconds);return 0!==i?i:lo(n.nanos,r.nanos)}function qo(t){return Go(t)}function Go(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(e=Ao(t.timestampValue)).seconds+","+e.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?xo(t.bytesValue).toBase64():"referenceValue"in t?Lo.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Go(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Go(t.fields[o])}return e+"}"}(t.mapValue):oo();var e,n}function Bo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Zo(t){return!!t&&"integerValue"in t}function Ho(t){return!!t&&"arrayValue"in t}function zo(t){return!!t&&"nullValue"in t}function $o(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ko(t){return!!t&&"mapValue"in t}function Qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return yo(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Qo(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qo(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Wo=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ko(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qo(e)},t.prototype.setAll=function(t){var e=this,n=To.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Qo(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ko(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Vo(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ko(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){yo(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Qo(this.value))},t}();function Jo(t){var e=[];return yo(t.fields,function(t,n){var r=new To([t]);if(Ko(n)){var i=Jo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Eo(e)}var Yo=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,go.min(),Wo.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wo.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wo.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wo.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wo.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Xo=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function ts(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Xo(t,e,n,r,i,o,s)}function es(t){var e=ao(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return(e=t).field.canonicalString()+e.op.toString()+qo(e.value);var e}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.canonicalString()+e.dir;var e}).join(","),No(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ps(e.startAt)),e.endAt&&(n+="|ub:",n+=ps(e.endAt)),e.h=n}return e.h}function ns(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ms(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Vo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vs(t.startAt,e.startAt)&&vs(t.endAt,e.endAt)}function rs(t){return Lo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var is=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ft.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new os(t,n,r):"array-contains"===n?new cs(t,r):"in"===n?new ls(t,r):"not-in"===n?new hs(t,r):"array-contains-any"===n?new fs(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ss(t,n):new as(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Mo(e,this.value)):null!==e&&Fo(this.value)===Fo(e)&&this.m(Mo(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return oo()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),os=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Lo.fromName(r.referenceValue),i}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=Lo.comparator(t.key,this.key);return this.m(e)},e}(is),ss=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=us(0,n),r}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(is),as=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=us(0,n),r}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(is);function us(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Lo.fromName(t.referenceValue)})}var cs=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ho(e)&&Uo(e.arrayValue,this.value)},e}(is),ls=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Uo(this.value.arrayValue,e)},e}(is),hs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Uo(this.value.arrayValue,e)},e}(is),fs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ho(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Uo(e.value.arrayValue,t)})},e}(is),ds=function(t,e){this.position=t,this.before=e};function ps(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return qo(t)}).join(",")}var gs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ms(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ys(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Lo.comparator(Lo.fromName(s.referenceValue),n.key):Mo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vs(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Vo(t.position[n],e.position[n]))return!1;return!0}var bs=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ws(t,e,n,r,i,o,s,a){return new bs(t,e,n,r,i,o,s,a)}function _s(t){return new bs(t)}function Ts(t){return!No(t.limit)&&"F"===t.limitType}function Es(t){return!No(t.limit)&&"L"===t.limitType}function Ss(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Cs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function As(t){return null!==t.collectionGroup}function Is(t){var e=ao(t);if(null===e.p){e.p=[];var n=Cs(e),r=Ss(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new gs(n)),e.p.push(new gs(To.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new gs(To.keyField(),u))}}}return e.p}function xs(t){var e=ao(t);if(!e.T)if("F"===e.limitType)e.T=ts(e.path,e.collectionGroup,Is(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Is(e);r<i.length;r++){var o=i[r];n.push(new gs(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ds(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ds(e.startAt.position,!e.startAt.before):null;e.T=ts(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function ks(t,e,n){return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Os(t,e){return ns(xs(t),xs(e))&&t.limitType===e.limitType}function Ds(t){return es(xs(t))+"|lt:"+t.limitType}function Ns(t){return"Query(target="+(n=(e=xs(t)).path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+qo(e.value);var e}).join(", ")+"]"),No(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+ps(e.startAt)),e.endAt&&(n+=", endAt: "+ps(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Rs(t,e){return e.isFoundDocument()&&(i=(r=e).key.path,null!==(n=t).collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Lo.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ys(t.startAt,Is(t),e)||t.endAt&&ys(t.endAt,Is(t),e))}(t,e);var n,r,i}function Ps(t){return function(e,n){for(var r=!1,i=0,o=Is(t);i<o.length;i++){var s=o[i],a=Ls(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ls(t,e,n){var r,i,o,s,a=t.field.isKeyField()?Lo.comparator(e.key,n.key):(i=n,o=e.data.field(r=t.field),s=i.data.field(r),null!==o&&null!==s?Mo(o,s):oo());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return oo()}}function Fs(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ro(e)?"-0":e}}function Vs(t){return{integerValue:""+t}}function Us(t,e){return Po(e)?Vs(e):Fs(t,e)}var Ms=function(){this._=void 0};function js(t,e,n){return t instanceof Bs?(o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},(i=e)&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Zs?Hs(t,e):t instanceof zs?$s(t,e):function(t,e){var n=Gs(t,e),r=Qs(n)+Qs(t.A);return Zo(n)&&Zo(t.A)?Vs(r):Fs(t.R,r)}(t,e);var r,i,o}function qs(t,e,n){return t instanceof Zs?Hs(t,e):t instanceof zs?$s(t,e):n}function Gs(t,e){return t instanceof Ks?Zo(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e}(Ms),Zs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ft.ZT)(e,t),e}(Ms);function Hs(t,e){for(var n=Ws(e),r=function(t){n.some(function(e){return Vo(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ft.ZT)(e,t),e}(Ms);function $s(t,e){for(var n=Ws(e),r=function(t){n=n.filter(function(e){return!Vo(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ks=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Ft.ZT)(e,t),e}(Ms);function Qs(t){return Io(t.integerValue||t.doubleValue)}function Ws(t){return Ho(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Js=function(t,e){this.field=t,this.transform=e},Ys=function(t,e){this.version=t,this.transformResults=e},Xs=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ta(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ea=function(){};function na(t,e,n){var r,i,o,s,a;t instanceof aa?(i=e,o=n,s=(r=t).value.clone(),a=la(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof ua?function(t,e,n){if(ta(t.precondition,e)){var r=la(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ca(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ra(t,e,n){var r;t instanceof aa?function(t,e,n){if(ta(t.precondition,e)){var r=t.value.clone(),i=ha(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(sa(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ua?function(t,e,n){if(ta(t.precondition,e)){var r=ha(t.fieldTransforms,n,e),i=e.data;i.setAll(ca(t)),i.setAll(r),e.convertToFoundDocument(sa(e),i).setHasLocalMutations()}}(t,e,n):ta(t.precondition,r=e)&&r.convertToNoDocument(go.min())}function ia(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Gs(o.transform,s||null);null!=a&&(null==n&&(n=Wo.empty()),n.set(o.field,a))}return n||null}function oa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ho(n,r,function(t,e){return(n=t).field.isEqual((r=e).field)&&(o=r.transform,(i=n.transform)instanceof Zs&&o instanceof Zs||i instanceof zs&&o instanceof zs?ho(i.elements,o.elements,Vo):i instanceof Ks&&o instanceof Ks?Vo(i.A,o.A):i instanceof Bs&&o instanceof Bs);var n,r,i,o})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function sa(t){return t.isFoundDocument()?t.version:go.min()}var aa=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Ft.ZT)(e,t),e}(ea),ua=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Ft.ZT)(e,t),e}(ea);function ca(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function la(t,e,n){var r=new Map;so(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,qs(s,a,n[i]))}return r}function ha(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,js(a,u,e))}return r}var fa,da,pa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ft.ZT)(e,t),e}(ea),ga=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ft.ZT)(e,t),e}(ea),ma=function(t){this.count=t};function ya(t){switch(t){case Ji.OK:return oo();case Ji.CANCELLED:case Ji.UNKNOWN:case Ji.DEADLINE_EXCEEDED:case Ji.RESOURCE_EXHAUSTED:case Ji.INTERNAL:case Ji.UNAVAILABLE:case Ji.UNAUTHENTICATED:return!1;case Ji.INVALID_ARGUMENT:case Ji.NOT_FOUND:case Ji.ALREADY_EXISTS:case Ji.PERMISSION_DENIED:case Ji.FAILED_PRECONDITION:case Ji.ABORTED:case Ji.OUT_OF_RANGE:case Ji.UNIMPLEMENTED:case Ji.DATA_LOSS:return!0;default:return oo()}}function va(t){if(void 0===t)return no("GRPC error has no .code"),Ji.UNKNOWN;switch(t){case fa.OK:return Ji.OK;case fa.CANCELLED:return Ji.CANCELLED;case fa.UNKNOWN:return Ji.UNKNOWN;case fa.DEADLINE_EXCEEDED:return Ji.DEADLINE_EXCEEDED;case fa.RESOURCE_EXHAUSTED:return Ji.RESOURCE_EXHAUSTED;case fa.INTERNAL:return Ji.INTERNAL;case fa.UNAVAILABLE:return Ji.UNAVAILABLE;case fa.UNAUTHENTICATED:return Ji.UNAUTHENTICATED;case fa.INVALID_ARGUMENT:return Ji.INVALID_ARGUMENT;case fa.NOT_FOUND:return Ji.NOT_FOUND;case fa.ALREADY_EXISTS:return Ji.ALREADY_EXISTS;case fa.PERMISSION_DENIED:return Ji.PERMISSION_DENIED;case fa.FAILED_PRECONDITION:return Ji.FAILED_PRECONDITION;case fa.ABORTED:return Ji.ABORTED;case fa.OUT_OF_RANGE:return Ji.OUT_OF_RANGE;case fa.UNIMPLEMENTED:return Ji.UNIMPLEMENTED;case fa.DATA_LOSS:return Ji.DATA_LOSS;default:return oo()}}(da=fa||(fa={}))[da.OK=0]="OK",da[da.CANCELLED=1]="CANCELLED",da[da.UNKNOWN=2]="UNKNOWN",da[da.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",da[da.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",da[da.NOT_FOUND=5]="NOT_FOUND",da[da.ALREADY_EXISTS=6]="ALREADY_EXISTS",da[da.PERMISSION_DENIED=7]="PERMISSION_DENIED",da[da.UNAUTHENTICATED=16]="UNAUTHENTICATED",da[da.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",da[da.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",da[da.ABORTED=10]="ABORTED",da[da.OUT_OF_RANGE=11]="OUT_OF_RANGE",da[da.UNIMPLEMENTED=12]="UNIMPLEMENTED",da[da.INTERNAL=13]="INTERNAL",da[da.UNAVAILABLE=14]="UNAVAILABLE",da[da.DATA_LOSS=15]="DATA_LOSS";var ba=function(){function t(t,e){this.comparator=t,this.root=e||_a.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_a.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_a.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new wa(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new wa(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new wa(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new wa(this.root,t,this.comparator,!0)},t}(),wa=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),_a=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oo();var t=this.left.check();if(t!==this.right.check())throw oo();return t+(this.isRed()?0:1)},t}();_a.EMPTY=null,_a.RED=!0,_a.BLACK=!1,_a.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw oo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw oo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw oo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw oo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw oo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new _a(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ta=function(){function t(t){this.comparator=t,this.data=new ba(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ea(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ea(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ea=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Sa=new ba(Lo.comparator);function Ca(){return Sa}var Aa=new ba(Lo.comparator);function Ia(){return Aa}var xa=new ba(Lo.comparator);function ka(){return xa}var Oa=new Ta(Lo.comparator);function Da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Oa,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Na=new Ta(lo);function Ra(){return Na}var Pa=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(go.min(),r,Ra(),Ca(),Da())},t}(),La=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(So.EMPTY_BYTE_STRING,n,Da(),Da(),Da())},t}(),Fa=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Va=function(t,e){this.targetId=t,this.V=e},Ua=function(t,e,n,r){void 0===n&&(n=So.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ma=function(){function t(){this.S=0,this.D=Ga(),this.C=So.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Da(),e=Da(),n=Da();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:oo()}}),new La(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ga()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),ja=function(){function t(t){this.W=t,this.G=new Map,this.H=Ca(),this.J=qa(),this.Y=new Ta(lo)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:oo()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(rs(i))if(0===n){var o=new Lo(i.path);this.tt(e,o,Yo.newNoDocument(o,go.min()))}else so(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&rs(o.target)){var s=new Lo(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Yo.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Da();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Pa(t,n,this.Y,this.H,r);return this.H=Ca(),this.J=qa(),this.Y=new Ta(lo),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ma,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ta(lo),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||eo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ma),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function qa(){return new ba(Lo.comparator)}function Ga(){return new ba(Lo.comparator)}var Ba={asc:"ASCENDING",desc:"DESCENDING"},Za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ha=function(t,e){this.databaseId=t,this.I=e};function za(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $a(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ka(t,e){return za(t,e.toTimestamp())}function Qa(t){return so(!!t),go.fromTimestamp((e=Ao(t),new po(e.seconds,e.nanos)));var e}function Wa(t,e){return(n=t,new wo(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ja(t){var e=wo.fromString(t);return so(_u(e)),e}function Ya(t,e){return Wa(t.databaseId,e.path)}function Xa(t,e){var n=Ja(e);if(n.get(1)!==t.databaseId.projectId)throw new Yi(Ji.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Yi(Ji.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Lo(ru(n))}function tu(t,e){return Wa(t.databaseId,e)}function eu(t){var e=Ja(t);return 4===e.length?wo.emptyPath():ru(e)}function nu(t){return new wo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ru(t){return so(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function iu(t,e,n){return{name:Ya(t,e),fields:n.value.mapValue.fields}}function ou(t,e,n){var r=Xa(t,e.name),i=Qa(e.updateTime),o=new Wo({mapValue:{fields:e.fields}}),s=Yo.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function su(t,e){var n,r;if(e instanceof aa)n={update:iu(t,e.key,e.value)};else if(e instanceof pa)n={delete:Ya(t,e.key)};else if(e instanceof ua)n={update:iu(t,e.key,e.data),updateMask:wu(e.fieldMask)};else{if(!(e instanceof ga))return oo();n={verify:Ya(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Bs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zs)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ks)return{fieldPath:e.field.canonicalString(),increment:n.A};throw oo()}(0,t)})),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Ka(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:oo()),n}function au(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?Xs.updateTime(Qa(n.updateTime)):void 0!==n.exists?Xs.exists(n.exists):Xs.none():Xs.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(so("REQUEST_TIME"===e.setToServerValue),n=new Bs):"appendMissingElements"in e?n=new Zs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new zs(e.removeAllFromArray.values||[]):"increment"in e?n=new Ks(t,e.increment):oo();var r=To.fromServerFormat(e.fieldPath);return new Js(r,n)}(t,e)}):[];if(e.update){var o=Xa(t,e.update.name),s=new Wo({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Eo((t.fieldPaths||[]).map(function(t){return To.fromServerFormat(t)}))}(e.updateMask);return new ua(o,s,a,r,i)}return new aa(o,s,r,i)}if(e.delete){var u=Xa(t,e.delete);return new pa(u,r)}if(e.verify){var c=Xa(t,e.verify);return new ga(c,r)}return oo()}function uu(t,e){return{documents:[tu(t,e.path)]}}function cu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if($o(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NAN"}};if(zo(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($o(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NOT_NAN"}};if(zo(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(t.field),op:gu(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return{field:mu((e=t).field),direction:pu(e.dir)};var e})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a=(s=e.limit,t.I||No(s)?s:{value:s});return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=fu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=fu(e.endAt)),n}function lu(t){var e=eu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){so(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=hu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return new gs(yu((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));var u,c,l=null;n.limit&&(l=No(c="object"==typeof(u=n.limit)?u.value:u)?null:c);var h=null;n.startAt&&(h=du(n.startAt));var f=null;return n.endAt&&(f=du(n.endAt)),ws(e,i,a,s,l,"F",h,f)}function hu(t){return t?void 0!==t.unaryFilter?[bu(t)]:void 0!==t.fieldFilter?[vu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return hu(t)}).reduce(function(t,e){return t.concat(e)}):oo():[]}function fu(t){return{before:t.before,values:t.position}}function du(t){return new ds(t.values||[],!!t.before)}function pu(t){return Ba[t]}function gu(t){return Za[t]}function mu(t){return{fieldPath:t.canonicalString()}}function yu(t){return To.fromServerFormat(t.fieldPath)}function vu(t){return is.create(yu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return oo()}}(t.fieldFilter.op),t.fieldFilter.value)}function bu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=yu(t.unaryFilter.field);return is.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=yu(t.unaryFilter.field);return is.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yu(t.unaryFilter.field);return is.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yu(t.unaryFilter.field);return is.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return oo()}}function wu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function _u(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Su(e)),e=Eu(t.get(n),e);return Su(e)}function Eu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Su(t){return t+"\x01\x01"}function Cu(t){var e=t.length;if(so(e>=2),2===e)return so("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wo.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&oo(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:oo()}o=s+2}return new wo(r)}var Au=function(t,e){this.seconds=t,this.nanoseconds=e},Iu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Iu.store="owner",Iu.key="owner";var xu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xu.store="mutationQueues",xu.keyPath="userId";var ku=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ku.store="mutations",ku.keyPath="batchId",ku.userMutationsIndex="userMutationsIndex",ku.userMutationsKeyPath=["userId","batchId"];var Ou=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tu(e)]},t.key=function(t,e,n){return[t,Tu(e),n]},t}();Ou.store="documentMutations",Ou.PLACEHOLDER=new Ou;var Du=function(t,e){this.path=t,this.readTime=e},Nu=function(t,e){this.path=t,this.version=e},Ru=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ru.store="remoteDocuments",Ru.readTimeIndex="readTimeIndex",Ru.readTimeIndexPath="readTime",Ru.collectionReadTimeIndex="collectionReadTimeIndex",Ru.collectionReadTimeIndexPath=["parentPath","readTime"];var Pu=function(t){this.byteSize=t};Pu.store="remoteDocumentGlobal",Pu.key="remoteDocumentGlobalKey";var Lu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Lu.store="targets",Lu.keyPath="targetId",Lu.queryTargetsIndexName="queryTargetsIndex",Lu.queryTargetsKeyPath=["canonicalId","targetId"];var Fu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Fu.store="targetDocuments",Fu.keyPath=["targetId","path"],Fu.documentTargetsIndex="documentTargetsIndex",Fu.documentTargetsKeyPath=["path","targetId"];var Vu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Vu.key="targetGlobalKey",Vu.store="targetGlobal";var Uu=function(t,e){this.collectionId=t,this.parent=e};Uu.store="collectionParents",Uu.keyPath=["collectionId","parent"];var Mu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mu.store="clientMetadata",Mu.keyPath="clientId";var ju=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ju.store="bundles",ju.keyPath="bundleId";var qu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qu.store="namedQueries",qu.keyPath="name";var Gu=(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],[xu.store,ku.store,Ou.store,Ru.store,Lu.store,Iu.store,Vu.store,Fu.store]),[Mu.store])),[Pu.store])),[Uu.store])),[ju.store,qu.store]),Bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zu=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Hu=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zu=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&oo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),$u=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Wu(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=ec(e.target.error);n.ft.reject(new Wu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Wu(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(eo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yu(e)},t}(),Ku=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Vt.z$)())&&no("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return eo("SimpleDb","Removing database:",t),Xu(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Vt.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(eo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Yi(Ji.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wu(t,n))},i.onupgradeneeded=function(t){eo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){eo("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Ft.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=$u.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),zu.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return eo("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Qu=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Xu(this.Pt.delete())},t}(),Wu=function(t){function e(e,n){var r=this;return(r=t.call(this,Ji.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ft.ZT)(e,t),e}(Yi);function Ju(t){return"IndexedDbTransactionError"===t.name}var Yu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(eo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(eo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xu(n)},t.prototype.add=function(t){return eo("SimpleDb","ADD",this.store.name,t,t),Xu(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xu(this.store.get(t)).next(function(n){return void 0===n&&(n=null),eo("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return eo("SimpleDb","DELETE",this.store.name,t),Xu(this.store.delete(t))},t.prototype.count=function(){return eo("SimpleDb","COUNT",this.store.name),Xu(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){eo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new zu(function(n,r){e.onerror=function(t){var e=ec(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new zu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qu(i),s=e(i.primaryKey,i.value,o);if(s instanceof zu){var a=s.catch(function(t){return o.done(),zu.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return zu.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xu(t){return new zu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ec(t.target.error);n(e)}})}var tc=!1;function ec(t){var e=Ku._t((0,Vt.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Yi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tc||(tc=!0,setTimeout(function(){throw r},0)),r}}return t}var nc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Ft.ZT)(e,t),e}(Zu);function rc(t,e){var n=ao(t);return Ku.It(n.Mt,e)}var ic=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&na(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ra(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ra(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(go.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Da())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,function(t,e){return oa(t,e)})&&ho(this.baseMutations,t.baseMutations,function(t,e){return oa(t,e)})},t}(),oc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){so(e.mutations.length===r.length);for(var i=ka(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),sc=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=go.min()),void 0===o&&(o=go.min()),void 0===s&&(s=So.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ac=function(t){this.Lt=t};function uc(t,e){if(e.document)return ou(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Lo.fromSegments(e.noDocument.path),r=dc(e.noDocument.readTime),i=Yo.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Lo.fromSegments(e.unknownDocument.path);return r=dc(e.unknownDocument.version),Yo.newUnknownDocument(o,r)}return oo()}function cc(t,e,n){var r,i,o=lc(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:Ya(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:za(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new Ru(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=fc(e.version);return u=e.hasCommittedMutations,new Ru(null,new Du(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=fc(e.version);return new Ru(new Nu(h,f),null,null,!0,o,s)}return oo()}function lc(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hc(t){var e=new po(t[0],t[1]);return go.fromTimestamp(e)}function fc(t){var e=t.toTimestamp();return new Au(e.seconds,e.nanoseconds)}function dc(t){var e=new po(t.seconds,t.nanoseconds);return go.fromTimestamp(e)}function pc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return au(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return au(t.Lt,e)}),o=po.fromMillis(e.localWriteTimeMs);return new ic(e.batchId,o,n,i)}function gc(t){var e,n,r=dc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?dc(t.lastLimboFreeSnapshotVersion):go.min();return void 0!==t.query.documents?(so(1===(n=t.query).documents.length),e=xs(_s(eu(n.documents[0])))):e=xs(lu(t.query)),new sc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,So.fromBase64String(t.resumeToken))}function mc(t,e){var n,r=fc(e.snapshotVersion),i=fc(e.lastLimboFreeSnapshotVersion);n=rs(e.target)?uu(t.Lt,e.target):cu(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Lu(e.targetId,es(e.target),r,o,e.sequenceNumber,i,n)}function yc(t){var e=lu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ks(e,e.limit,"L"):e}var vc=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return bc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:dc(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return bc(t).put({bundleId:(n=e).id,createTime:fc(Qa(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return wc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:yc(e.bundledQuery),readTime:dc(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return wc(t).put({name:(n=e).name,readTime:fc(Qa(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function bc(t){return rc(t,ju.store)}function wc(t){return rc(t,qu.store)}var _c=function(){function t(){this.Bt=new Tc}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),zu.resolve()},t.prototype.getCollectionParents=function(t,e){return zu.resolve(this.Bt.getEntries(e))},t}(),Tc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ta(wo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ta(wo.comparator)).toArray()},t}(),Ec=function(){function t(){this.qt=new Tc}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Tu(i)};return Sc(t).put(o)}return zu.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[fo(e),""],!1,!0);return Sc(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Cu(o.parent))}return n})},t}();function Sc(t){return rc(t,Uu.store)}var Cc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ac=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ic(t,e,n){var r=t.store(ku.store),i=t.store(Ou.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){so(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ou.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return zu.waitFor(o).next(function(){return c})}function xc(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oo();e=t.noDocument}return JSON.stringify(e).length}Ac.DEFAULT_COLLECTION_PERCENTILE=10,Ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ac.DEFAULT=new Ac(41943040,Ac.DEFAULT_COLLECTION_PERCENTILE,Ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ac.DISABLED=new Ac(-1,0,0);var kc=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return so(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dc(t).$t({index:ku.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Nc(t),s=Dc(t);return s.add({}).next(function(a){so("number"==typeof a);for(var u=new ic(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return su(t.Lt,e)}),i=n.mutations.map(function(e){return su(t.Lt,e)});return new ku(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Ta(function(t,e){return lo(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Ou.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Ou.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),zu.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Dc(t).get(e).next(function(t){return t?(so(t.userId===n.userId),pc(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?zu.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Dc(t).$t({index:ku.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(so(e.batchId>=r),o=pc(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dc(t).$t({index:ku.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dc(t).Nt(ku.userMutationsIndex,n).next(function(t){return t.map(function(t){return pc(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ou.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Nc(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Cu(r[1]);if(a===n.userId&&e.path.isEqual(c))return Dc(t).get(u).next(function(t){if(!t)throw oo();so(t.userId===n.userId),o.push(pc(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ta(lo),i=[];return e.forEach(function(e){var o=Ou.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Nc(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Cu(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),zu.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ou.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ta(lo);return Nc(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Cu(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Dc(t).get(e).next(function(t){if(null===t)throw oo();so(t.userId===n.userId),r.push(pc(n.R,t))}))}),zu.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ic(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),zu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zu.resolve();var r=IDBKeyRange.lowerBound(Ou.prefixForUser(e.userId)),i=[];return Nc(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Cu(t[1]);i.push(o)}else r.done()}).next(function(){so(0===i.length)})})},t.prototype.containsKey=function(t,e){return Oc(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Rc(t).get(this.userId).next(function(t){return t||new xu(e.userId,-1,"")})},t}();function Oc(t,e,n){var r=Ou.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Nc(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Dc(t){return rc(t,ku.store)}function Nc(t){return rc(t,Ou.store)}function Rc(t){return rc(t,xu.store)}var Pc=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Lc=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Pc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return go.fromTimestamp(new po(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Fc(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return so(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Fc(t).$t(function(s,a){var u=gc(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return zu.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Fc(t).$t(function(t,n){var r=gc(n);e(r)})},t.prototype.Xt=function(t){return Vc(t).get(Vu.key).next(function(t){return so(null!==t),t})},t.prototype.Zt=function(t,e){return Vc(t).put(Vu.key,e)},t.prototype.te=function(t,e){return Fc(t).put(mc(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=es(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fc(t).$t({range:r,index:Lu.queryTargetsIndexName},function(t,n,r){var o=gc(n);ns(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Uc(t);return e.forEach(function(e){var s=Tu(e.path);i.push(o.put(new Fu(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),zu.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Uc(t);return zu.forEach(e,function(e){var o=Tu(e.path);return zu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Uc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Uc(t),i=Da();return r.$t({range:n,kt:!0},function(t,e,n){var r=Cu(t[1]),o=new Lo(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Tu(e.path),r=IDBKeyRange.bound([n],[fo(n)],!1,!0),i=0;return Uc(t).$t({index:Fu.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Fc(t).get(e).next(function(t){return t?gc(t):null})},t}();function Fc(t){return rc(t,Lu.store)}function Vc(t){return rc(t,Vu.store)}function Uc(t){return rc(t,Fu.store)}function Mc(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){if(t.code!==Ji.FAILED_PRECONDITION||t.message!==Bu)throw t;return eo("LocalStore","Unexpectedly lost primary lease"),[2]})})}function jc(t,e){var n=t[1],r=e[1],i=lo(t[0],e[0]);return 0===i?lo(n,r):i}var qc=function(){function t(t){this.ne=t,this.buffer=new Ta(jc),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();jc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Gc=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;eo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ju(e=n.sent())?(eo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Mc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Bc=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zu.resolve(Wi.o);var r=new qc(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(eo("LruGarbageCollector","Garbage collection skipped; disabled"),zu.resolve(Cc)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(eo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Cc):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(eo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),to()<=Ut.in.DEBUG&&eo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),zu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Zc=function(){function t(t,e){this.db=t,this.garbageCollector=new Bc(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Hc(t,n)},t.prototype.removeReference=function(t,e,n){return Hc(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hc(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,Rc(n=t).Ot(function(t){return Oc(n,t,r).next(function(t){return t&&(i=!0),zu.resolve(!t)})}).next(function(){return i});var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Uc(t).delete([0,Tu(s.path)])})});i.push(u)}}).next(function(){return zu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hc(t,e)},t.prototype.we=function(t,e){var n,r=Uc(t),i=Wi.o;return r.$t({index:Fu.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Wi.o&&e(new Lo(Cu(n)),i),i=s,n=o):i=Wi.o}).next(function(){i!==Wi.o&&e(new Lo(Cu(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hc(t,e){return Uc(t).put((n=t.currentSequenceNumber,new Fu(0,Tu(e.path),n)));var n}var zc=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){yo(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return vo(this.inner)},t}(),$c=function(){function t(){this.changes=new zc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:go.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Yo.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zu.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Kc=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Jc(t).put(Yc(e),n)},t.prototype.removeEntry=function(t,e){var n=Jc(t),r=Yc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Jc(t).get(Yc(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Jc(t).get(Yc(e)).next(function(t){return{document:n.ye(e,t),size:xc(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ca();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ca(),i=new ba(Lo.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,xc(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return zu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Jc(t).$t({range:r},function(t,e,r){for(var s=Lo.fromSegments(t);o&&Lo.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ca(),o=e.path.length+1,s={};if(n.isEqual(go.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=lc(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ru.collectionReadTimeIndex}return Jc(t).$t(s,function(t,n,s){if(t.length===o){var a=uc(r.R,n);e.path.isPrefixOf(a.key.path)?Rs(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Qc(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Wc(t).get(Pu.key).next(function(t){return so(!!t),t})},t.prototype.me=function(t,e){return Wc(t).put(Pu.key,e)},t.prototype.ye=function(t,e){if(e){var n=uc(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(go.min()))return n}return Yo.newInvalidDocument(t)},t}(),Qc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new zc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Ft.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ta(function(t,e){return lo(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=cc(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=xc(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=cc(e.Ie.R,Yo.newNoDocument(o,go.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),zu.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}($c);function Wc(t){return rc(t,Pu.store)}function Jc(t){return rc(t,Ru.store)}function Yc(t){return t.path.toArray()}var Xc=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;so(n<r&&n>=0&&r<=11);var o,s=new $u("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(Iu.store),(o=t).createObjectStore(xu.store,{keyPath:xu.keyPath}),o.createObjectStore(ku.store,{keyPath:ku.keyPath,autoIncrement:!0}).createIndex(ku.userMutationsIndex,ku.userMutationsKeyPath,{unique:!0}),o.createObjectStore(Ou.store),tl(t),function(t){t.createObjectStore(Ru.store)}(t));var a=zu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Fu.store),t.deleteObjectStore(Lu.store),t.deleteObjectStore(Vu.store)}(t),tl(t)),a=a.next(function(){return function(t){var e=t.store(Vu.store),n=new Vu(0,0,go.min().toTimestamp(),0);return e.put(Vu.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(ku.store).Nt().next(function(n){t.deleteObjectStore(ku.store),t.createObjectStore(ku.store,{keyPath:ku.keyPath,autoIncrement:!0}).createIndex(ku.userMutationsIndex,ku.userMutationsKeyPath,{unique:!0});var r=e.store(ku.store),i=n.map(function(t){return r.put(t)});return zu.waitFor(i)})}(t,s)})),a=a.next(function(){!function(t){t.createObjectStore(Mu.store,{keyPath:Mu.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(s)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Pu.store)}(t),i.be(s)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(s)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(a=a.next(function(){(function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")})(t),function(t){var e=t.objectStore(Ru.store);e.createIndex(Ru.readTimeIndex,Ru.readTimeIndexPath,{unique:!1}),e.createIndex(Ru.collectionReadTimeIndex,Ru.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(s)})),n<11&&r>=11&&(a=a.next(function(){(function(t){t.createObjectStore(ju.store,{keyPath:ju.keyPath})})(t),function(t){t.createObjectStore(qu.store,{keyPath:qu.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(Ru.store).$t(function(t,n){e+=xc(n)}).next(function(){var n=new Pu(e);return t.store(Pu.store).put(Pu.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(xu.store),r=t.store(ku.store);return n.Nt().next(function(n){return zu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ku.userMutationsIndex,i).next(function(r){return zu.forEach(r,function(r){so(r.userId===n.userId);var i=pc(e.R,r);return Ic(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Fu.store),n=t.store(Ru.store);return t.store(Vu.store).get(Vu.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new wo(n),s=[0,Tu(o)];r.push(e.get(s).next(function(n){return n?zu.resolve():e.put(new Fu(0,Tu(o),t.highestListenSequenceNumber))}))}).next(function(){return zu.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Uu.store,{keyPath:Uu.keyPath});var n=e.store(Uu.store),r=new Tc,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Tu(i)})}};return e.store(Ru.store).$t({kt:!0},function(t,e){var n=new wo(t);return i(n.popLast())}).next(function(){return e.store(Ou.store).$t({kt:!0},function(t,e){var n=Cu(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Lu.store);return n.$t(function(t,r){var i=gc(r),o=mc(e.R,i);return n.put(o)})},t}();function tl(t){t.createObjectStore(Fu.store,{keyPath:Fu.keyPath}).createIndex(Fu.documentTargetsIndex,Fu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Lu.store,{keyPath:Lu.keyPath}).createIndex(Lu.queryTargetsIndexName,Lu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Vu.store)}var el="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nl=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Yi(Ji.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zc(this,i),this.Le=n+"main",this.R=new ac(u),this.Be=new Ku(this.Le,11,new Xc(this.R)),this.qe=new Lc(this.referenceDelegate,this.R),this.Ut=new Ec,this.Ue=new Kc(this.R,this.Ut),this.Ke=new vc,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&no("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Yi(Ji.FAILED_PRECONDITION,el);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Wi(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return il(e).put(new Mu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ju(e))return eo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return eo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return rl(t).get(Iu.key).next(function(t){return zu.resolve(e.tn(t))})},t.prototype.en=function(t){return il(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=rc(t,Mu.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zu.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?zu.resolve(!0):rl(t).get(Iu.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Yi(Ji.FAILED_PRECONDITION,el);return!1}}return!(!e.networkEnabled||!e.inForeground)||il(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&eo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t=this;return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Iu.store,Mu.store],function(e){var n=new nc(e,Wi.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return il(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return kc.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return eo("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Gu,function(o){return r=new nc(o,i.Ne?i.Ne.next():Wi.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw no("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Yi(Ji.FAILED_PRECONDITION,Bu);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return rl(t).get(Iu.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Yi(Ji.FAILED_PRECONDITION,el)})},t.prototype.Ze=function(t){var e=new Iu(this.clientId,this.allowTabSynchronization,Date.now());return rl(t).put(Iu.key,e)},t.yt=function(){return Ku.yt()},t.prototype.Xe=function(t){var e=this,n=rl(t);return n.get(Iu.key).next(function(t){return e.tn(t)?(eo("IndexedDbPersistence","Releasing primary lease."),n.delete(Iu.key)):zu.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(no("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Vt.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return eo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return no("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){no("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function rl(t){return rc(t,Iu.store)}function il(t){return rc(t,Mu.store)}function ol(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var sl=function(t,e){this.progress=t,this.wn=e},al=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return Lo.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):As(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new Lo(e)).next(function(t){var e=Ia();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ia();return this.Ut.getCollectionParents(t,i).next(function(s){return zu.forEach(s,function(s){var a,u,c=(a=e,u=s.child(i),new bs(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Yo.newInvalidDocument(c),r=r.insert(c,l)),ra(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Rs(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Da(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ua&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ul=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Da(),i=Da(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),cl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(go.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(i){var s=o.Cn(e,i);return(Ts(e)||Es(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(to()<=Ut.in.DEBUG&&eo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ns(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Ta(Ps(t));return e.forEach(function(e,r){Rs(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return to()<=Ut.in.DEBUG&&eo("QueryEngine","Using full collection scan to execute query:",Ns(e)),this.Sn.getDocumentsMatchingQuery(t,e,go.min())},t}(),ll=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ba(lo),this.kn=new zc(function(t){return es(t)},ns),this.$n=go.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new al(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function hl(t,e,n,r){return new ll(t,e,n,r)}function fl(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return n=ao(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new al(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Da(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function dl(t,e){var n=ao(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=zu.resolve(),u.forEach(function(t){c=c.next(function(){return s.getEntry(i,t)}).next(function(e){var n=o.docVersions.get(t);so(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))})}),c.next(function(){return r._n.removeMutationBatch(i,a)})).next(function(){return h.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,l)})})}function pl(t){var e=ao(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function gl(t,e){var n=ao(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,so((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}});var a=Ca();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(ml(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(go.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return zu.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function ml(t,e,n,r,i){var o=Da();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ca();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(go.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):eo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function yl(t,e){var n=ao(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function vl(t,e){var n=ao(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?zu.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new sc(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function bl(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:r=ao(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ju(s=a.sent()))throw s;return eo("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function wl(t,e,n){var r=ao(t),i=go.min(),o=Da();return r.persistence.runTransaction("Execute query","readonly",function(t){return(s=r,a=t,u=xs(e),c=ao(s),l=c.kn.get(u),void 0!==l?zu.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:go.min(),n?o:Da())}).next(function(t){return{documents:t,Bn:o}});var s,a,u,c,l})}function _l(t,e){var n=ao(t),r=ao(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Tl(t){var e=ao(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return n=t,r=e.$n,i=ao(e.On),o=Ca(),s=lc(r),a=Jc(n),u=IDBKeyRange.lowerBound(s,!0),a.$t({index:Ru.readTimeIndex,range:u},function(t,e){var n=uc(i.R,e);o=o.insert(n.key,n),s=e.readTime}).next(function(){return{wn:o,readTime:hc(s)}});var n,r,i,o,s,a,u}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function El(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){return[2,(e=ao(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return e=Jc(t),n=go.min(),e.$t({index:Ru.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=hc(e.readTime)),r.done()}).next(function(){return n});var e,n}).then(function(t){e.$n=t})]})})}function Sl(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,Ft.Jh)(this,function(p){switch(p.label){case 0:for(i=ao(t),o=Da(),s=Ca(),a=ka(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,vl(i,(g=r,xs(_s(wo.fromString("__bundle__/docs/"+g)))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ml(t,f,s,go.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}var g})})}function Cl(t,e,n){return void 0===n&&(n=Da()),(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,vl(t,xs(yc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ao(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Qa(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(So.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Al=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zu.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Qa(n.createTime)}),zu.resolve()},t.prototype.getNamedQuery=function(t,e){return zu.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:yc(n.bundledQuery),readTime:Qa(n.readTime)}),zu.resolve();var n},t}(),Il=function(){function t(){this.Wn=new Ta(xl.Gn),this.zn=new Ta(xl.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new xl(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new xl(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Lo(new wo([])),r=new xl(n,t),i=new xl(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Lo(new wo([])),n=new xl(e,t),r=new xl(e,t+1),i=Da();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new xl(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),xl=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Lo.comparator(t.key,e.key)||lo(t.ns,e.ns)},t.Hn=function(t,e){return lo(t.ns,e.ns)||Lo.comparator(t.key,e.key)},t}(),kl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ta(xl.Gn)}return t.prototype.checkEmpty=function(t){return zu.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new ic(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new xl(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return zu.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zu.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return zu.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zu.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return zu.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new xl(e,0),i=new xl(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),zu.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ta(lo);return e.forEach(function(t){var e=new xl(t,0),i=new xl(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),zu.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Lo.isDocumentKey(i)||(i=i.child(""));var o=new xl(new Lo(i),0),s=new Ta(lo);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),zu.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;so(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return zu.forEach(e.mutations,function(i){var o=new xl(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new xl(e,0),r=this.rs.firstAfterOrEqual(n);return zu.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return zu.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Ol=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ba(Lo.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zu.resolve(n?n.document.clone():Yo.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ca();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Yo.newInvalidDocument(t))}),zu.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ca(),i=new Lo(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Rs(e,u)&&(r=r.insert(u.key,u.clone()))}return zu.resolve(r)},t.prototype.fs=function(t,e){return zu.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Dl(this)},t.prototype.getSize=function(t){return zu.resolve(this.size)},t}(),Dl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Ft.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),zu.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}($c),Nl=function(){function t(t){this.persistence=t,this.ds=new zc(function(t){return es(t)},ns),this.lastRemoteSnapshotVersion=go.min(),this.highestTargetId=0,this.ws=0,this._s=new Il,this.targetCount=0,this.ys=Pc.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),zu.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zu.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),zu.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),zu.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Pc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,zu.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),zu.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,zu.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),zu.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return zu.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return zu.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),zu.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),zu.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),zu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return zu.resolve(n)},t.prototype.containsKey=function(t,e){return zu.resolve(this._s.containsKey(e))},t}(),Rl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Wi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Nl(this),this.Ut=new _c,this.Ue=new Ol(this.Ut,function(t){return n.referenceDelegate.ps(t)}),this.R=new ac(e),this.Ke=new Al(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new kl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;eo("MemoryPersistence","Starting transaction:",t);var i=new Pl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return zu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Ft.ZT)(e,t),e}(Zu),Ll=function(){function t(t){this.persistence=t,this.As=new Il,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw oo()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),zu.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),zu.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),zu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zu.forEach(this.vs,function(r){var i=Lo.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return zu.or([function(){return zu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Fl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Vl(t,e){return"firestore_clients_"+t+"_"+e}function Ul(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ml(t,e){return"firestore_targets_"+t+"_"+e}Fl.UNAUTHENTICATED=new Fl(null),Fl.GOOGLE_CREDENTIALS=new Fl("google-credentials-uid"),Fl.FIRST_PARTY=new Fl("first-party-uid");var jl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Yi(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(no("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ql=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yi(i.error.code,i.error.message)),o?new t(e,i.state,r):(no("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ra(),s=0;i&&s<r.activeTargetIds.length;++s)i=Po(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(no("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(no("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zl=function(){function t(){this.activeTargetIds=Ra()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hl=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ba(lo),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Vl(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Zl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Ft.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Vl(this.persistenceKey,r)))&&(o=Gl.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ml(this.persistenceKey,t));if(n){var r=ql.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ml(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return eo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){eo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){eo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(eo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void no("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Ft.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Wi.o;if(null!=t)try{var n=JSON.parse(t);so("number"==typeof n),e=n}catch(r){no("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==Wi.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new jl(this.currentUser,t,e,n),i=Ul(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ul(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Ml(this.persistenceKey,t),i=new ql(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Gl.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return jl.Vs(new Fl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return ql.Vs(r,e)},t.prototype.js=function(t){return Bl.Vs(t)},t.prototype.ii=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(eo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ra();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),zl=function(){function t(){this.li=new Zl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Zl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),$l=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Kl=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){eo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){eo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ql={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Jl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Ft.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Qi;s.listenOnce(Bi.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Gi.NO_ERROR:var e=s.getResponseJson();eo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gi.TIMEOUT:eo("Connection",'RPC "'+t+'" timed out'),o(new Yi(Ji.DEADLINE_EXCEEDED,"Request time out"));break;case Gi.HTTP_ERROR:var n=s.getStatus();if(eo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status.toLowerCase().replace(/_/g,"-"),Object.values(Ji).indexOf(u)>=0?u:Ji.UNKNOWN);o(new Yi(a,r.message))}else o(new Yi(Ji.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Yi(Ji.UNAVAILABLE,"Connection failed."));break;default:oo()}}finally{eo("Connection",'RPC "'+t+'" completed.')}var u});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Vi,i=Dn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new $i({})),this.Fi(o.initMessageHeaders,e),(0,Vt.uI)()||(0,Vt.b$)()||(0,Vt.d)()||(0,Vt.w1)()||(0,Vt.Mn)()||(0,Vt.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");eo("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Wl({Ei:function(t){c?eo("Connection","Not sending because WebChannel is closed:",t):(u||(eo("Connection","Opening WebChannel transport."),a.open(),u=!0),eo("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(e){setTimeout(function(){throw e},0)}})};return h(a,Ki.EventType.OPEN,function(){c||eo("Connection","WebChannel transport opened.")}),h(a,Ki.EventType.CLOSE,function(){c||(c=!0,eo("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ki.EventType.ERROR,function(t){c||(c=!0,ro("Connection","WebChannel transport errored:",t),l.Vi(new Yi(Ji.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ki.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];so(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){eo("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=fa[t];if(void 0!==e)return va(e)}(i),s=r.message;void 0===o&&(o=Ji.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Yi(o,s)),a.close()}else eo("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Zi.STAT_EVENT,function(t){t.stat===Hi?eo("Connection","Detected buffering proxy"):t.stat===zi&&eo("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);eo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return eo("RestConnection","Received: ",t),t},function(e){throw ro("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ql[t]},t}());function Yl(){return"undefined"!=typeof window?window:null}function Xl(){return"undefined"!=typeof document?document:null}function th(t){return new Ha(t,!0)}var eh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&eo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),nh=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new eh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ji.RESOURCE_EXHAUSTED?(no(e.toString()),no("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ji.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Yi(Ji.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Ft.mG)(t,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return eo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(eo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),rh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Ft.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:oo(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(so(void 0===e||"string"==typeof e),So.fromBase64String(e||"")):(so(void 0===e||e instanceof Uint8Array),So.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ji.UNKNOWN:va(t.code);return new Yi(e,t.message||"")}(u);n=new Ua(i,o,s,a||null)}else if("documentChange"in e){o=Xa(t,(i=e.documentChange).document.name),s=Qa(i.document.updateTime);var u=new Wo({mapValue:{fields:i.document.fields}}),c=(a=Yo.newFoundDocument(o,s,u),i.targetIds||[]);n=new Fa(c,i.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)o=Xa(t,(i=e.documentDelete).document),s=i.readTime?Qa(i.readTime):go.min(),u=Yo.newNoDocument(o,s),n=new Fa([],a=i.removedTargetIds||[],u.key,u);else if("documentRemove"in e)o=Xa(t,(i=e.documentRemove).document),n=new Fa([],s=i.removedTargetIds||[],o,null);else{if(!("filter"in e))return oo();var l=e.filter;o=new ma(i=l.count||0),n=new Va(s=l.targetId,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return go.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?go.min():e.readTime?Qa(e.readTime):go.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=nu(this.R),o.addTarget=(e=this.R,(r=rs(i=(n=t).target)?{documents:uu(e,i)}:{query:cu(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=$a(e,n.resumeToken):n.snapshotVersion.compareTo(go.min())>0&&(r.readTime=za(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=nu(this.R),e.removeTarget=t,this.cr(e)},e}(nh),ih=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(so(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(i=t.commitTime,(r=t.writeResults)&&r.length>0?(so(void 0!==i),r.map(function(t){return n=i,(r=Qa((e=t).updateTime?e.updateTime:n)).isEqual(go.min())&&(r=Qa(n)),new Ys(r,e.transformResults||[]);var e,n,r})):[]),n=Qa(t.commitTime);return this.listener.Tr(n,e)}var r,i;return so(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=nu(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return su(e.R,t)})};this.cr(n)},e}(nh),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ft.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Yi(Ji.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ji.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Yi(Ji.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ji.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Yi(Ji.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),sh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(no(e),this.Vr=!1):eo("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ah=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Ft.mG)(o,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return mh(this)?(eo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return(e=ao(t)).Or.add(4),[4,ch(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,uh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new sh(n,r)};function uh(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:if(!mh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ch(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lh(t,e){var n=ao(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),gh(n)?ph(n):Dh(n).er()&&fh(n,e))}function hh(t,e){var n=ao(t),r=Dh(n);n.$r.delete(e),r.er()&&dh(n,e),0===n.$r.size&&(r.er()?r.ir():mh(n)&&n.Br.set("Unknown"))}function fh(t,e){t.qr.U(e.targetId),Dh(t).mr(e)}function dh(t,e){t.qr.U(e),Dh(t).yr(e)}function ph(t){t.qr=new ja({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Dh(t).start(),t.Br.Sr()}function gh(t){return mh(t)&&!Dh(t).tr()&&t.$r.size>0}function mh(t){return 0===ao(t).Or.size}function yh(t){t.qr=void 0}function vh(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return t.$r.forEach(function(e,n){fh(t,e)}),[2]})})}function bh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){return yh(t),gh(t)?(t.Br.Nr(e),ph(t)):t.Br.set("Unknown"),[2]})})}function wh(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Ua&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),eo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,_h(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fa?t.qr.X(e):e instanceof Va?t.qr.rt(e):t.qr.et(e),n.isEqual(go.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,pl(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach(function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}}),c.targetMismatches.forEach(function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(So.EMPTY_BYTE_STRING,e.snapshotVersion)),dh(a,t);var n=new sc(e.target,t,1,e.sequenceNumber);fh(a,n)}}),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return eo("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,_h(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c})})}function _h(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:if(!Ju(e))throw e;return t.Or.add(1),[4,ch(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return pl(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return eo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,uh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Th(t,e){return e().catch(function(n){return _h(t,n,e)})}function Eh(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:e=ao(t),n=Nh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(mh(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,yl(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Nh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,_h(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Sh(e)&&Ch(e),[2]}var a})})}function Sh(t){return mh(t)&&!Nh(t).tr()&&t.kr.length>0}function Ch(t){Nh(t).start()}function Ah(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return Nh(t).Ar(),[2]})})}function Ih(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Ft.Jh)(this,function(i){for(e=Nh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function xh(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=oc.from(r,e,n),[4,Th(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Eh(t)];case 2:return o.sent(),[2]}})})}function kh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e&&Nh(t).pr?[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return ya(r=e.code)&&r!==Ji.ABORTED?(n=t.kr.shift(),Nh(t).sr(),[4,Th(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Eh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sh(t)&&Ch(t),[2]}})})}function Oh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return n=ao(t),e?(n.Or.delete(2),[4,uh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,ch(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Dh(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:vh.bind(null,t),Ri:bh.bind(null,t),_r:wh.bind(null,t)},(i=ao(e)).br(),new rh(n,i.Hi,i.credentials,i.R,r)),t.Mr.push(function(e){return(0,Ft.mG)(o,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),gh(t)?ph(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),yh(t),n.label=3;case 3:return[2]}})})})),t.Ur}function Nh(t){var e,n,r,i,o=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:Ah.bind(null,t),Ri:kh.bind(null,t),Ir:Ih.bind(null,t),Tr:xh.bind(null,t)},(i=ao(e)).br(),new ih(n,i.Hi,i.credentials,i.R,r)),t.Mr.push(function(e){return(0,Ft.mG)(o,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,Eh(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),t.kr.length>0&&(eo("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}})})})),t.Kr}var Rh=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yi(Ji.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ph(t,e){if(no("AsyncQueue",e+": "+t),Ju(t))return new Yi(Ji.UNAVAILABLE,e+": "+t);throw t}var Lh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Lo.comparator(e.key,n.key)}:function(t,e){return Lo.comparator(t.key,e.key)},this.keyedMap=Ia(),this.sortedSet=new ba(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Fh=function(){function t(){this.Qr=new ba(Lo.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):oo():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Vh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Lh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Os(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Uh=function(){this.Wr=void 0,this.listeners=[]},Mh=function(){this.queries=new zc(function(t){return Ds(t)},Os),this.onlineState="Unknown",this.Gr=new Set};function jh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:if(n=ao(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Uh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Ph(a,"Initialization of query '"+Ns(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Zh(n),[2]}})})}function qh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ft.Jh)(this,function(a){return n=ao(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Gh(t,e){for(var n=ao(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Zh(n)}function Bh(t,e,n){var r=ao(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Zh(t){t.Gr.forEach(function(t){t.next()})}var Hh=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Vh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),zh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),$h=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Xa(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?ou(this.R,t.document,!1):Yo.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Qa(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new $h(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Da()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,Sl(this.localStore,new $h(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Cl(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sl(Object.assign({},this.progress),t))]}})})}}();var Kh=function(t){this.key=t},Qh=function(t){this.key=t},Wh=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Da(),this.mutatedKeys=Da(),this.lo=Ps(t),this.fo=new Lh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Fh,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Ts(this.query)&&i.size===this.query.limit?i.last():null,c=Es(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Rs(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Ts(this.query)||Es(this.query))for(;s.size>this.query.limit;){var l=Ts(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return n=e.type,(i=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oo()}})(t.type)-i(n)||r.lo(t.doc,e.doc);var n,i}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Vh(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Fh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Da(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Qh(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Kh(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Da();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Vh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Jh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yh=function(t){this.key=t,this.bo=!1},Xh=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new zc(function(t){return Ds(t)},Os),this.Vo=new Map,this.So=new Set,this.Do=new ba(Lo.comparator),this.Co=new Map,this.No=new Il,this.xo={},this.Fo=new Map,this.ko=Pc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function tf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return n=Of(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,vl(n.localStore,xs(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,ef(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&lh(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function ef(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Ft.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,wl(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(gf(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,wl(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Wh(e,i.Bn),s=o._o(i.documents),a=La.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),gf(t,n,u.To),c=new Jh(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function nf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return n=ao(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Os(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,bl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),hh(n.remoteStore,r.targetId),df(n,r.targetId)}).catch(Mc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return df(n,r.targetId),[4,bl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function rf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:r=Df(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=ao(u),f=po.now(),d=c.reduce(function(t,e){return t.add(e.key)},Da()),h.persistence.runTransaction("Locally write mutations","readwrite",function(t){return h.Mn.pn(t,d).next(function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=ia(o,l.get(o.key));null!=s&&n.push(new ua(o.key,s,Jo(s.value.mapValue),Xs.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)})}).then(function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}}))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ba(lo)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,vf(r,i.changes)];case 3:return a.sent(),[4,Eh(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ph(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d})})}function of(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:n=ao(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(so(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?so(r.bo):t.removedDocuments.size>0&&(so(r.bo),r.bo=!1))}),[4,vf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Mc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function sf(t,e,n){var r=ao(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ao(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Zh(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function af(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:return(r=ao(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ba(Lo.comparator)).insert(o,Yo.newNoDocument(o,go.min())),a=Da().add(o),u=new Pa(go.min(),new Map,new Ta(lo),s,a),[4,of(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),yf(r),[3,4];case 2:return[4,bl(r.localStore,e,!1).then(function(){return df(r,e,n)}).catch(Mc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function uf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:n=ao(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,dl(n.localStore,e)];case 2:return i=o.sent(),ff(n,r,null),hf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,vf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Mc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function cf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:r=ao(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=ao(s),u.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var e;return u._n.lookupMutationBatch(t,a).next(function(n){return so(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)}).next(function(){return u._n.performConsistencyCheck(t)}).next(function(){return u.Mn.pn(t,e)})}))];case 2:return i=o.sent(),ff(r,e,n),hf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,vf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Mc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u})})}function lf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:mh((n=ao(t)).remoteStore)||eo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=ao(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return c._n.getHighestUnacknowledgedBatchId(t)}))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ph(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c})})}function hf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function ff(t,e,n){var r=ao(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function df(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||pf(t,e)})}function pf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(hh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),yf(t))}function gf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kh?(t.No.addReference(o.key,e),mf(t,o)):o instanceof Qh?(eo("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||pf(t,o.key)):oo()}}function mf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(eo("SyncEngine","New document in limbo: "+n),t.So.add(r),yf(t))}function yf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Lo(wo.fromString(e)),r=t.ko.next();t.Co.set(r,new Yh(n)),t.Do=t.Do.insert(n,r),lh(t.remoteStore,new sc(xs(_s(n.path)),r,2,Wi.o))}}function vf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return r=ao(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ul.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Ft.Jh)(this,function(l){switch(l.label){case 0:n=ao(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zu.forEach(e,function(e){return zu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return zu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ju(r=l.sent()))throw r;return eo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function bf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return(n=ao(t)).currentUser.isEqual(e)?[3,3]:(eo("SyncEngine","User change. New user:",e.toKey()),[4,fl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new Yi(Ji.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,vf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o})})}function wf(t,e){var n=ao(t),r=n.Co.get(e);if(r&&r.bo)return Da().add(r.key);var i=Da(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function _f(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,wl((n=ao(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&gf(n,e.targetId,i.To),i)]}})})}function Tf(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){return[2,Tl((e=ao(t)).localStore).then(function(t){return vf(e,t)})]})})}function Ef(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return[4,(a=(i=ao(t)).localStore,u=e,c=ao(a),l=ao(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return l.jt(t,u).next(function(e){return e?c.Mn.pn(t,e):zu.resolve(null)})}))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Eh(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ff(i,e,r||null),hf(i,e),function(t,e){ao(ao(t)._n).Gt(e)}(i.localStore,e)):oo(),s.label=4;case 4:return[4,vf(i,o)];case 5:return s.sent(),[3,7];case 6:eo("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l})})}function Sf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:return Of(n=ao(t)),Df(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Cf(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Oh(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)lh(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return df(n,e),bl(n.localStore,e,!0)}),hh(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Cf(n,a)];case 5:return c.sent(),(l=ao(n)).Co.forEach(function(t,e){hh(l.remoteStore,e)}),l.No.ts(),l.Co=new Map,l.Do=new ba(Lo.comparator),n.$o=!1,[4,Oh(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}var l})})}function Cf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,Ft.Jh)(this,function(g){switch(g.label){case 0:n=ao(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,vl(n.localStore,xs(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,_f(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,_l(n.localStore,a)];case 8:return p=g.sent(),[4,vl(n.localStore,p)];case 9:return u=g.sent(),[4,ef(n,Af(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Af(t){return ws(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function If(t){var e=ao(t);return ao(ao(e.localStore).persistence).fn()}function xf(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return(i=ao(t)).$o?(eo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tl(i.localStore)];case 3:return o=a.sent(),s=Pa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,vf(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,bl(i.localStore,e,!0)];case 6:return a.sent(),df(i,e,r),[3,8];case 7:oo(),a.label=8;case 8:return[2]}})})}function kf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Ft.Jh)(this,function(f){switch(f.label){case 0:if(!(r=Of(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(eo("SyncEngine","Adding an already active target "+s),[3,5]):[4,_l(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,vl(r.localStore,a)];case 3:return u=f.sent(),[4,ef(r,Af(a),u.targetId,!1)];case 4:f.sent(),lh(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,bl(r.localStore,t,!1).then(function(){hh(r.remoteStore,t),df(r,t)}).catch(Mc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Of(t){var e=ao(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=of.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=af.bind(null,e),e.vo._r=Gh.bind(null,e.eventManager),e.vo.Mo=Bh.bind(null,e.eventManager),e}function Df(t){var e=ao(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cf.bind(null,e),e}var Nf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return this.R=th(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return hl(this.persistence,new cl,t.initialUser,this.R)},t.prototype.qo=function(t){return new Rl(Ll.bs,this.R)},t.prototype.Bo=function(t){return new zl},t.prototype.terminate=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Rf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ft.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,El(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Df(this.Qo.syncEngine)];case 4:return n.sent(),[4,Eh(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return hl(this.persistence,new cl,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Gc(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=ol(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ac.withCacheSize(this.cacheSizeBytes):Ac.DEFAULT;return new nl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yl(),Xl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new zl},e}(Nf),Pf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ft.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Hl?(this.sharedClientState.syncEngine={ui:Ef.bind(null,n),ai:xf.bind(null,n),hi:kf.bind(null,n),fn:If.bind(null,n),ci:Tf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return[4,Sf(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Yl();if(!Hl.yt(e))throw new Yi(Ji.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ol(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Hl(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Rf),Lf=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return sf(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bf.bind(null,this.syncEngine),[4,Oh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Mh},t.prototype.createDatastore=function(t){var e=th(t.databaseInfo.databaseId),n=new Jl(t.databaseInfo);return new oh(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return sf(s.syncEngine,t,0)},o=Kl.yt()?new Kl:new $l,new ah(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=e,r=new Xh(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),n&&(r.$o=!0),r;var n,r},t.prototype.terminate=function(){return function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=ao(t),eo("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,ch(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Ff=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Vf=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Hu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new zh(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Yi(Ji.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Ft.Jh)(this,function(u){switch(u.label){case 0:return n=ao(t),r=nu(n.R)+"/documents",i={documents:e.map(function(t){return Ya(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){so(!!e.found);var n=Xa(t,e.found.name),r=Qa(e.found.updateTime),i=new Wo({mapValue:{fields:e.found.fields}});return Yo.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){so(!!e.missing),so(!!e.readTime);var n=Xa(t,e.missing),r=Qa(e.readTime);return Yo.newNoDocument(n,r)}(e,r):oo());s.set(i.key.toString(),i)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());so(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new pa(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Lo.fromPath(n);e.mutations.push(new ga(r,e.precondition(r)))}),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return n=ao(t),r=nu(n.R)+"/documents",i={writes:e.map(function(t){return su(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw oo();e=go.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Yi(Ji.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xs.updateTime(e):Xs.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(go.min()))throw new Yi(Ji.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xs.updateTime(e)}return Xs.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Uf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new eh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Ft.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Ft.Jh)(this,function(r){return t=new Vf(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!No(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ya(e)}return!1},t}(),Mf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Fl.UNAUTHENTICATED,this.clientId=co.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return eo("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Yi(Ji.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ft.mG)(t,void 0,void 0,function(){var t,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ph(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function jf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),eo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Ft.mG)(i,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,fl(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function qf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Gf(t)];case 1:return n=i.sent(),eo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return(n=ao(t)).asyncQueue.verifyOperationInProgress(),eo("RemoteStore","RemoteStore received new credentials"),r=mh(n),n.Or.add(3),[4,ch(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,uh(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Gf(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(eo("FirestoreClient","Using default OfflineComponentProvider"),[4,jf(t,new Nf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Bf(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(eo("FirestoreClient","Using default OnlineComponentProvider"),[4,qf(t,new Lf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Zf(t){return Gf(t).then(function(t){return t.persistence})}function Hf(t){return Gf(t).then(function(t){return t.localStore})}function zf(t){return Bf(t).then(function(t){return t.remoteStore})}function $f(t){return Bf(t).then(function(t){return t.syncEngine})}function Kf(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,Bf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=tf.bind(null,e.syncEngine),n.onUnlisten=nf.bind(null,e.syncEngine),n)]}})})}function Qf(t,e,n){var r=this;void 0===n&&(n={});var i=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ff({next:function(o){e.enqueueAndForget(function(){return qh(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Yi(Ji.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Yi(Ji.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Hh(_s(n.path),o,{includeMetadataChanges:!0,so:!0});return jh(t,s)},[4,Kf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Wf(t,e,n){var r=this;void 0===n&&(n={});var i=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ff({next:function(n){e.enqueueAndForget(function(){return qh(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Yi(Ji.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Hh(n,o,{includeMetadataChanges:!0,so:!0});return jh(t,s)},[4,Kf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Jf=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Yf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Xf=new Map,td=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ed=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Fl.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),nd=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),rd=function(){function t(t){var e=this;this.currentUser=Fl.UNAUTHENTICATED,this.oc=new Hu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){eo("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(eo("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(eo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(so("string"==typeof n.accessToken),new td(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Ft.mG)(n,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return so(null===t||"string"==typeof t),new Fl(t)},t}(),id=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Fl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),od=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new id(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Fl.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function sd(t,e,n){if(!n)throw new Yi(Ji.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ad(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ud(t,e,n,r){if(!0===e&&!0===r)throw new Yi(Ji.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function cd(t){if(!Lo.isDocumentKey(t))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ld(t){if(Lo.isDocumentKey(t))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function hd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":oo()}function fd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Yi(Ji.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hd(t);throw new Yi(Ji.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function dd(t,e){if(e<=0)throw new Yi(Ji.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var pd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Yi(Ji.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yi(Ji.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ud("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),gd=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pd({}),this._settingsFrozen=!1,t instanceof Yf?(this._databaseId=t,this._credentials=new ed):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Yi(Ji.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(t.options.projectId)}(t),this._credentials=new rd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Yi(Ji.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Yi(Ji.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ed;switch(t.type){case"gapi":var e=t.client;return so(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new od(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Yi(Ji.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Xf.get(this))&&(eo("ComponentProvider","Removing Datastore"),Xf.delete(this),t.terminate()),Promise.resolve();var t},t}(),md=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),yd=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,_s(r))||this)._path=r,i.type="collection",i}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new md(this.firestore,null,new Lo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(yd);function bd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Vt.m9)(t),sd("collection","path",e),t instanceof gd)return ld(n=wo.fromString.apply(wo,(0,Ft.ev)([e],r))),new vd(t,null,n);if(!(t instanceof md||t instanceof vd))throw new Yi(Ji.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ld(n=wo.fromString.apply(wo,(0,Ft.ev)([t.path],r)).child(wo.fromString(e))),new vd(t.firestore,null,n)}function wd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Vt.m9)(t),1===arguments.length&&(e=co.u()),sd("doc","path",e),t instanceof gd)return cd(n=wo.fromString.apply(wo,(0,Ft.ev)([e],r))),new md(t,null,new Lo(n));if(!(t instanceof md||t instanceof vd))throw new Yi(Ji.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cd(n=t._path.child(wo.fromString.apply(wo,(0,Ft.ev)([e],r)))),new md(t.firestore,t instanceof vd?t.converter:null,new Lo(n))}function _d(t,e){return t=(0,Vt.m9)(t),e=(0,Vt.m9)(e),(t instanceof md||t instanceof vd)&&(e instanceof md||e instanceof vd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Td(t,e){return t=(0,Vt.m9)(t),e=(0,Vt.m9)(e),t instanceof yd&&e instanceof yd&&t.firestore===e.firestore&&Os(t._query,e._query)&&t.converter===e.converter}var Ed=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new eh(this,"async_queue_retry"),this.Ic=function(){var e=Xl();e&&eo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Xl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Xl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Hu;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ju(t=n.sent()))throw t;return eo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,no("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Rh.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&oo()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t;return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Sd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Ed,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Ft.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Id(this),this._firestoreClient.terminate()},e}(gd);function Ad(t){return t._firestoreClient||Id(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Id(t){var e,n,r,i=t._freezeSettings(),o=(n=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Jf(t._databaseId,n,t._persistenceKey,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams));t._firestoreClient=new Mf(t._credentials,t._queue,o)}function xd(t,e,n){var r=this,i=new Hu;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,jf(t,n)];case 1:return o.sent(),[4,qf(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===Ji.FAILED_PRECONDITION||s.code===Ji.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s})})}).then(function(){return i.promise})}function kd(t){if(t._initialized||t._terminated)throw new Yi(Ji.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Od=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new To(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Dd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(So.fromBase64String(e))}catch(n){throw new Yi(Ji.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(So.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Nd=function(t){this._methodName=t},Rd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Yi(Ji.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Yi(Ji.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return lo(this._lat,t._lat)||lo(this._long,t._long)},t}(),Pd=/^__.*__$/,Ld=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ua(t,this.data,this.fieldMask,e,this.fieldTransforms):new aa(t,this.data,e,this.fieldTransforms)},t}(),Fd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ua(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Vd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oo()}}var Ud=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return ip(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Vd(this.Nc)&&Pd.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Md=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||th(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Ud({Nc:t,methodName:e,qc:n,path:To.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function jd(t){var e=t._freezeSettings(),n=th(t._databaseId);return new Md(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);tp("Data must be an object, but it was:",s,r);var a,u,c=Yd(r,s);if(o.merge)a=new Eo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ep(e,f[h],n);if(!s.contains(d))throw new Yi(Ji.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");op(l,d)||l.push(d)}a=new Eo(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ld(new Wo(c),a,u)}var Gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Nd);function Bd(t,e,n){return new Ud({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Js(t.path,new Bs)},e.prototype.isEqual=function(t){return t instanceof e},e}(Nd),Hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Bd(this,t,!0),n=this.Kc.map(function(t){return Jd(t,e)}),r=new Zs(n);return new Js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nd),zd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Bd(this,t,!0),n=this.Kc.map(function(t){return Jd(t,e)}),r=new zs(n);return new Js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nd),$d=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ks(t.R,Us(t.R,this.Qc));return new Js(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Nd);function Kd(t,e,n,r){var i=t.Uc(1,e,n);tp("Data must be an object, but it was:",i,r);var o=[],s=Wo.empty();yo(r,function(t,r){var a=rp(e,t,n);r=(0,Vt.m9)(r);var u=i.Oc(a);if(r instanceof Gd)o.push(a);else{var c=Jd(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Eo(o);return new Fd(s,a,i.fieldTransforms)}function Qd(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[ep(e,r,n)],u=[i];if(o.length%2!=0)throw new Yi(Ji.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ep(e,o[c])),u.push(o[c+1]);for(var l=[],h=Wo.empty(),f=a.length-1;f>=0;--f)if(!op(l,a[f])){var d=a[f],p=u[f];p=(0,Vt.m9)(p);var g=s.Oc(d);if(p instanceof Gd)l.push(d);else{var m=Jd(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Eo(l);return new Fd(h,y,s.fieldTransforms)}function Wd(t,e,n,r){return void 0===r&&(r=!1),Jd(n,t.Uc(r?4:3,e))}function Jd(t,e){if(Xd(t=(0,Vt.m9)(t)))return tp("Unsupported field value:",e,t),Yd(t,e);if(t instanceof Nd)return function(t,e){if(!Vd(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Jd(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Us(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=po.fromDate(t);return{timestampValue:za(e.R,n)}}if(t instanceof po)return n=new po(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:za(e.R,n)};if(t instanceof Rd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dd)return{bytesValue:$a(e.R,t._byteString)};if(t instanceof md){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wa(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+hd(t))}(t,e)}function Yd(t,e){var n={};return vo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,function(t,r){var i=Jd(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Xd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof po||t instanceof Rd||t instanceof Dd||t instanceof md||t instanceof Nd)}function tp(t,e,n){if(!Xd(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){var r=hd(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}var i}function ep(t,e,n){if((e=(0,Vt.m9)(e))instanceof Od)return e._internalPath;if("string"==typeof e)return rp(t,e);throw ip("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var np=new RegExp("[~\\*/\\[\\]]");function rp(t,e,n){if(e.search(np)>=0)throw ip("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Od.bind.apply(Od,(0,Ft.ev)([void 0],e.split(".")))))._internalPath}catch(r){throw ip("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ip(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Yi(Ji.INVALID_ARGUMENT,(a+=". ")+t+u)}function op(t,e){return t.some(function(t){return t.isEqual(e)})}var sp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new md(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(up("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(sp);function up(t,e){return"string"==typeof e?rp(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}var cp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lp=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Ft.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(up("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(sp),hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lp),fp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new cp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new hp(n._firestore,n._userDataWriter,r.key,r,new cp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yi(Ji.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new hp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new cp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new hp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new cp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:dp(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function dp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oo()}}function pp(t,e){return t instanceof lp&&e instanceof lp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof fp&&e instanceof fp&&t._firestore===e._firestore&&Td(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function gp(t){if(Es(t)&&0===t.explicitOrderBy.length)throw new Yi(Ji.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mp=function(){};function yp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e,n,r=jd(t.firestore),i=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Cp(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Sp(r,t,l[c]));a={arrayValue:{values:u}}}else a=Sp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Cp(s,o),a=Wd(n,"where",s,"in"===o||"not-in"===o);var h=is.create(i,o,a);return function(t,e){if(e.g()){var n=Cs(t);if(null!==n&&!n.isEqual(e.field))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ss(t);null!==r&&Ap(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Yi(Ji.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,r,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new yd(t.firestore,t.converter,(n=(e=t._query).filters.concat([i]),new bs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)))},e}(mp),bp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e,n,r=function(t,e,n){if(null!==t.startAt)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gs(e,n);return function(t,e){if(null===Ss(t)){var n=Cs(t);null!==n&&Ap(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new yd(t.firestore,t.converter,(n=(e=t._query).explicitOrderBy.concat([r]),new bs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(mp),wp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){return new yd(t.firestore,t.converter,ks(t._query,this.Hc,this.Jc))},e}(mp),_p=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e,n,r=Ep(t,this.type,this.Yc,this.Xc);return new yd(t.firestore,t.converter,(n=r,new bs((e=t._query).path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(mp),Tp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e,n,r=Ep(t,this.type,this.Yc,this.Xc);return new yd(t.firestore,t.converter,(n=r,new bs((e=t._query).path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(mp);function Ep(t,e,n,r){if(n[0]=(0,Vt.m9)(n[0]),n[0]instanceof sp)return function(t,e,n,r,i){if(!r)throw new Yi(Ji.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Is(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Bo(e,r.key));else{var c=r.data.field(u.field);if(ko(c))throw new Yi(Ji.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ds(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=jd(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Yi(Ji.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!As(t)&&-1!==c.indexOf("/"))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wo.fromString(c));if(!Lo.isDocumentKey(l))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Lo(l);a.push(Bo(e,h))}else{var f=Wd(n,r,c);a.push(f)}}return new ds(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Sp(t,e,n){if("string"==typeof(n=(0,Vt.m9)(n))){if(""===n)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!As(e)&&-1!==n.indexOf("/"))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wo.fromString(n));if(!Lo.isDocumentKey(r))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bo(t,new Lo(r))}if(n instanceof md)return Bo(t,n._key);throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hd(n)+".")}function Cp(t,e){if(!Array.isArray(t)||0===t.length)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ap(t,e,n){if(!n.isEqual(e))throw new Yi(Ji.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ip=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Fo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Io(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw oo()}},t.prototype.convertObject=function(t,e){var n=this,r={};return yo(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Rd(Io(t.latitude),Io(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Oo(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Do(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ao(t);return new po(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=wo.fromString(t);so(_u(n));var r=new Yf(n.get(1),n.get(3)),i=new Lo(n.popFirst(5));return r.isEqual(e)||no("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function xp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var kp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new Dd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new md(this.firestore,null,e)},e}(Ip),Op=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Dp(t,this._firestore),i=xp(r.converter,e,n),o=qd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Xs.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Dp(t,this._firestore);return o="string"==typeof(e=(0,Vt.m9)(e))||e instanceof Od?Qd(this._dataReader,"WriteBatch.update",s._key,e,n,r):Kd(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Xs.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Dp(t,this._firestore);return this._mutations=this._mutations.concat(new pa(e._key,Xs.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Yi(Ji.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Dp(t,e){if((t=(0,Vt.m9)(t)).firestore!==e)throw new Yi(Ji.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Np=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new Dd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new md(this.firestore,null,e)},e}(Ip);function Rp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=fd(t,md);var o=fd(t.firestore,Cd),s=jd(o);return Lp(o,[("string"==typeof(e=(0,Vt.m9)(e))||e instanceof Od?Qd(s,"updateDoc",t._key,e,n,r):Kd(s,"updateDoc",t._key,e)).toMutation(t._key,Xs.exists(!0))])}function Pp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Vt.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Sd(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Sd(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof md)c=fd(t.firestore,Cd),l=_s(t._key.path),u={next:function(e){i[a]&&i[a](Fp(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=fd(t,yd);c=fd(d.firestore,Cd),l=d._query;var p=new Np(c);u={next:function(t){i[a]&&i[a](new fp(c,p,d,t))},error:i[a+1],complete:i[a+2]},gp(t._query)}return function(t,e,n,r){var i=this,o=new Ff(r),s=new Hh(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(i,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=jh,[4,Kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(i,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=qh,[4,Kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Ad(c),l,h,u)}function Lp(t,e){return function(t,e){var n=this,r=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=rf,[4,$f(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ad(t),e)}function Fp(t,e,n){var r=n.docs.get(e._key),i=new Np(t);return new lp(t,i,e._key,r,new cp(n.hasPendingWrites,n.fromCache),e.converter)}var Vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Ft.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Dp(e,this._firestore),i=new Np(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new lp(n._firestore,i,r._key,t._document,new cp(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=jd(t)}return t.prototype.get=function(t){var e=this,n=Dp(t,this._firestore),r=new kp(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return oo();var i=t[0];if(i.isFoundDocument())return new sp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sp(e._firestore,r,n._key,null,n.converter);throw oo()})},t.prototype.set=function(t,e,n){var r=Dp(t,this._firestore),i=xp(r.converter,e,n),o=qd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Dp(t,this._firestore);return o="string"==typeof(e=(0,Vt.m9)(e))||e instanceof Od?Qd(this._dataReader,"Transaction.update",s._key,e,n,r):Kd(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Dp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Up(){if("undefined"==typeof Uint8Array)throw new Yi(Ji.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Mp(){if("undefined"==typeof atob)throw new Yi(Ji.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Mp(),new t(Dd.fromBase64String(e))},t.fromUint8Array=function(e){return Up(),new t(Dd.fromUint8Array(e))},t.prototype.toBase64=function(){return Mp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Up(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),qp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kd(t=fd(t,Cd));var n=Ad(t),r=t._freezeSettings(),i=new Lf;return xd(n,i,new Rf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kd(t=fd(t,Cd));var e=Ad(t),n=t._freezeSettings(),r=new Lf;return xd(e,r,new Pf(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Yi(Ji.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hu;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return Ku.yt()?[4,Ku.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(ol(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Gp=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Yf||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ro("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=fd(t,gd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ro("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Vt.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Yi(Ji.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new nd(new td(o,new Fl(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,Zf(t)];case 1:return e=r.sent(),[4,zf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=ao(i),o.Or.delete(0),uh(o))]}var i,o})})})}(Ad(fd(this._delegate,Cd)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,Zf(t)];case 1:return e=r.sent(),[4,zf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return(e=ao(t)).Or.add(0),[4,ch(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ad(fd(this._delegate,Cd)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ud("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return e=lf,[4,$f(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ad(fd(this._delegate,Cd)))},t.prototype.onSnapshotsInSync=function(t){return e=t,function(t,e){var n=this,r=new Ff(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){ao(t).Gr.add(e),e.next()},[4,Kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){ao(t).Gr.delete(e)},[4,Kf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ad(fd(this._delegate,Cd)),Sd(e)?e:{next:e});var e},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Yi(Ji.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ng(this,bd(this._delegate,t))}catch(e){throw Kp(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new $p(this,wd(this._delegate,t))}catch(e){throw Kp(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Xp(this,function(t,e){if(t=fd(t,gd),sd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yd(t,null,(n=e,new bs(wo.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw Kp(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,(o=t,Bf(o).then(function(t){return t.datastore}))];case 1:return n=i.sent(),new Uf(t.asyncQueue,n,e,r).run(),[2]}var o})})}),r.promise}(Ad(e=this._delegate),function(r){return function(e){return t(new Zp(n,e))}(new Vp(e,r))})},t.prototype.batch=function(){var t=this;return Ad(this._delegate),new Hp(new Op(this._delegate,function(e){return Lp(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Yi(Ji.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Yi(Ji.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new jp(new Dd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return $p.eu(e,this.firestore,null)},e}(Ip),Zp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Bp(t)}return t.prototype.get=function(t){var e=this,n=rg(t);return this._delegate.get(n).then(function(t){return new Jp(e._firestore,new lp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=rg(t);return n?(ad("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=rg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Ft.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=rg(t);return this._delegate.delete(e),this},t}(),Hp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=rg(t);return n?(ad("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=rg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Ft.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=rg(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),zp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new hp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Bp(e),n),i.set(n,o)),o},t}();zp.su=new WeakMap;var $p=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Bp(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Yi(Ji.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new md(n._delegate,r,new Lo(e)))},t.eu=function(e,n,r){return new t(n,new md(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ng(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ng(this.firestore,bd(this._delegate,t))}catch(e){throw Kp(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Vt.m9)(t))instanceof md&&_d(this._delegate,t)},t.prototype.set=function(t,e){e=ad("DocumentReference.set",e);try{return function(t,e,n){t=fd(t,md);var r=fd(t.firestore,Cd),i=xp(t.converter,e,n);return Lp(r,[qd(jd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Xs.none())])}(this._delegate,t,e)}catch(n){throw Kp(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Rp(this._delegate,t):Rp.apply(void 0,(0,Ft.ev)([this._delegate,t,e],n))}catch(i){throw Kp(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Lp(fd((t=this._delegate).firestore,Cd),[new pa(t._key,Xs.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qp(e),i=Wp(e,function(e){return new Jp(t.firestore,new lp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Pp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fd(t,md);var e=fd(t.firestore,Cd),n=Ad(e),r=new Np(e);return function(t,e){var n=this,r=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=ao(s),u.persistence.runTransaction("read document","readonly",function(t){return u.Mn.mn(t,a)}))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Yi(Ji.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ph(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u})})},[4,Hf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new lp(e,r,t._key,n,new cp(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=fd(t,md);var e=fd(t.firestore,Cd);return Qf(Ad(e),t._key,{source:"server"}).then(function(n){return Fp(e,t,n)})}(this._delegate):function(t){t=fd(t,md);var e=fd(t.firestore,Cd);return Qf(Ad(e),t._key).then(function(n){return Fp(e,t,n)})}(this._delegate)).then(function(t){return new Jp(e.firestore,new lp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?zp.nu(this.firestore,e):null))},t}();function Kp(t,e,n){return t.message=t.message.replace(e,n),t}function Qp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Sd(r))return r}return{}}function Wp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Sd(t[0])?t[0]:Sd(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Jp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new $p(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return pp(this._delegate,t._delegate)},t}(),Yp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Jp),Xp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Bp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,yp(this._delegate,(o=r,s=n,a=up("where",i=e),new vp(a,s,o))))}catch(i){throw Kp(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,yp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=up("orderBy",t);return new bp(r,n)}(e,n)))}catch(r){throw Kp(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,yp(this._delegate,(dd("limit",n=e),new wp("limit",n,"F"))))}catch(n){throw Kp(n,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,yp(this._delegate,(dd("limitToLast",n=e),new wp("limitToLast",n,"L"))))}catch(n){throw Kp(n,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _p("startAt",t,!0)}).apply(void 0,e)))}catch(r){throw Kp(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _p("startAfter",t,!1)}).apply(void 0,e)))}catch(r){throw Kp(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tp("endBefore",t,!0)}).apply(void 0,e)))}catch(r){throw Kp(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tp("endAt",t,!1)}).apply(void 0,e)))}catch(r){throw Kp(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Td(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fd(t,yd);var e=fd(t.firestore,Cd),n=Ad(e),r=new Np(e);return function(t,e){var n=this,r=new Hu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Ft.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,wl(t,e,!0)];case 1:return a=u.sent(),r=new Wh(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Ph(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Hf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new fp(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=fd(t,yd);var e=fd(t.firestore,Cd),n=Ad(e),r=new Np(e);return Wf(n,t._query,{source:"server"}).then(function(n){return new fp(e,r,t,n)})}(this._delegate):function(t){t=fd(t,yd);var e=fd(t.firestore,Cd),n=Ad(e),r=new Np(e);return gp(t._query),Wf(n,t._query).then(function(n){return new fp(e,r,t,n)})}(this._delegate)).then(function(t){return new eg(e.firestore,new fp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qp(e),i=Wp(e,function(e){return new eg(t.firestore,new fp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Pp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?zp.nu(this.firestore,e):null))},t}(),tg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Yp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),eg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Xp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Yp(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new tg(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Yp(n._firestore,r))})},t.prototype.isEqual=function(t){return pp(this._delegate,t._delegate)},t}(),ng=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new $p(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new $p(this.firestore,void 0===t?wd(this._delegate):wd(this._delegate,t))}catch(e){throw Kp(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=fd(e.firestore,Cd),i=wd(e),o=xp(e.converter,n),Lp(r,[qd(jd(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,Xs.exists(!1))]).then(function(){return i})).then(function(t){return new $p(s.firestore,t)})},e.prototype.isEqual=function(t){return _d(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?zp.nu(this.firestore,t):null))},e}(Xp);function rg(t){return fd(t,md)}var ig=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Od.bind.apply(Od,(0,Ft.ev)([void 0],t)))}return t.documentId=function(){return new t(To.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Vt.m9)(t))instanceof Od&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),og=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Zd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Gd("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hd("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zd("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new $d("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),sg=n(6034),ag={Firestore:Gp,GeoPoint:Rd,Timestamp:po,Blob:jp,Transaction:Zp,WriteBatch:Hp,DocumentReference:$p,DocumentSnapshot:Jp,Query:Xp,QueryDocumentSnapshot:Yp,QuerySnapshot:eg,CollectionReference:ng,FieldPath:ig,FieldValue:og,setLogLevel:function(t){Xi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){t.INTERNAL.registerComponent(new sg.wA("firestore",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),new Gp(e,new Cd(e,n),new qp);var e,n},"PUBLIC").setServiceProps(Object.assign({},ag))),t.registerVersion("@firebase/firestore","2.3.10")}(Lt.Z);var ug=n(9765),cg=(n(6682),n(5345));function lg(t,e){return"function"==typeof e?n=>n.pipe(lg((n,r)=>(0,pt.D)(t(n,r)).pipe((0,St.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new hg(t))}class hg{constructor(t){this.project=t}call(t,e){return e.subscribe(new fg(t,this.project))}}class fg extends cg.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new cg.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,cg.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}n(7771);var dg=n(5319),pg=n(7971);n(8858);const gg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),mg=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var yg=n(9193);function vg(t){return e=>0===t?(0,yg.c)():e.lift(new bg(t))}class bg{constructor(t){if(this.total=t,this.total<0)throw new mg}call(t,e){return e.subscribe(new wg(t,this.total))}}class wg extends wt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _g(t=null){return e=>e.lift(new Tg(t))}class Tg{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Eg(t,this.defaultValue))}}class Eg extends wt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Sg(t=Ig){return e=>e.lift(new Cg(t))}class Cg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ag(t,this.errorFactory))}}class Ag extends wt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ig(){return new gg}var xg=n(4487);function kg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ot((e,n)=>t(e,n,r)):xg.y,vg(1),n?_g(e):Sg(()=>new gg))}n(3101);const Og=new r.OlP("angularfire2.auth.use-emulator");function Dg(t,e){return function(t,e=ft.z){return new dt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ng(t,e){return Dg(t,e).pipe((0,St.U)(t=>({payload:t,type:"query"})))}function Rg(t,e){return Ng(t,e).pipe(bt(void 0),_t(),(0,St.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Pg(t,e,n){return Rg(t,n).pipe(Ct((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new xt(void 0,void 0)),(0,St.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Lg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Fg(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class Vg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Rg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,St.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(bt(void 0),_t(),Ot(([t,e])=>e.length>0||!t),(0,St.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fg(t);return Pg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,pt.D)(this.query.get(t)).pipe((0,Rt.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ug(this.ref.doc(t),this.afs)}}class Ug{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Zg(n,e);return new Vg(r,i,this.afs)}snapshotChanges(){return function(t,e){return Dg(t,e).pipe(bt(void 0),_t(),(0,St.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,St.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,pt.D)(this.ref.get(t)).pipe((0,Rt.QV)(this.afs.schedulers.insideAngular))}}class Mg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ot(t=>t.length>0),this.afs.keepUnstableUntilFirst):Rg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fg(t);return Pg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,pt.D)(this.query.get(t)).pipe((0,Rt.QV)(this.afs.schedulers.insideAngular))}}const jg=new r.OlP("angularfire2.enableFirestorePersistence"),qg=new r.OlP("angularfire2.firestore.persistenceSettings"),Gg=new r.OlP("angularfire2.firestore.settings"),Bg=new r.OlP("angularfire2.firestore.use-emulator");function Zg(t,e=(t=>t)){return{query:e(t),ref:t}}let Hg=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ht.HU(o),this.keepUnstableUntilFirst=(0,ht.ss)(this.schedulers);const c=(0,ht.on)(t,o,e);!Pt.Z.auth&&u&&(0,ht.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,ht.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return(0,pt.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),(0,gt.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,gt.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Zg(n,e),o=this.schedulers.ngZone.run(()=>r);return new Vg(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Mg(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Ug(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ht.Dh),r.LFG(ht.xv,8),r.LFG(jg,8),r.LFG(Gg,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(qg,8),r.LFG(Bg,8),r.LFG(Og,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ht.Dh),r.LFG(ht.xv,8),r.LFG(jg,8),r.LFG(Gg,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(qg,8),r.LFG(Bg,8),r.LFG(Og,8))},token:t,providedIn:"any"}),t})();class zg extends ug.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pg.N;return this._value}next(t){super.next(this._value=t)}}var $g=n(9796);class Kg extends wt.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Qg extends wt.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Wg=n(7444);function Jg(t,e,n,r,i=new Qg(t,n,r)){if(!i.closed)return e instanceof dt.y?e.subscribe(i):(0,Wg.s)(e)(i)}var Yg=n(6693);const Xg={};class tm{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new em(t,this.resultSelector))}}class em extends Kg{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Xg),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Jg(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Xg?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function nm(t){return new dt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,pt.D)(n):(0,yg.c)()).subscribe(e)})}var rm=n(2441);function im(t){return function(e){const n=new om(t),r=e.lift(n);return n.caught=r}}class om{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sm(t,this.selector,this.caught))}}class sm extends cg.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new cg.IY(this);this.add(r);const i=(0,cg.ft)(n,r);i!==r&&this.add(i)}}}var am=n(9773);function um(t,e){return(0,am.zg)(t,e,1)}function cm(t){return function(e){return 0===t?(0,yg.c)():e.lift(new lm(t))}}class lm{constructor(t){if(this.total=t,this.total<0)throw new mg}call(t,e){return e.subscribe(new hm(t,this.total))}}class hm extends wt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var fm=n(3342),dm=n(1307);class pm{constructor(t){this.callback=t}call(t,e){return e.subscribe(new gm(t,this.callback))}}class gm extends wt.L{constructor(t,e){super(t),this.add(new dg.w(e))}}class mm{constructor(t,e){this.id=t,this.url=e}}class ym extends mm{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vm extends mm{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bm extends mm{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wm extends mm{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _m extends mm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tm extends mm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Em extends mm{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sm extends mm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cm extends mm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Am{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Im{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xm{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class km{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Om{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dm{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nm{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rm="primary";class Pm{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lm(t){return new Pm(t)}const Fm="ngNavigationCancelingError";function Vm(t){const e=Error("NavigationCancelingError: "+t);return e[Fm]=!0,e}function Um(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mm(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jm(t[i],e[i]))return!1;return!0}function jm(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function qm(t){return Array.prototype.concat.apply([],t)}function Gm(t){return t.length>0?t[t.length-1]:null}function Bm(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zm(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,pt.D)(Promise.resolve(t)):(0,gt.of)(t)}const Hm={exact:function t(e,n,r){if(!ty(e.segments,n.segments)||!Wm(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!t(e.children[i],n.children[i],r))return!1;return!0},subset:Km},zm={exact:function(t,e){return Mm(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jm(t[n],e[n]))},ignored:()=>!0};function $m(t,e,n){return Hm[n.paths](t.root,e.root,n.matrixParams)&&zm[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Km(t,e,n){return Qm(t,e,e.segments,n)}function Qm(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ty(i,n)||e.hasChildren()||!Wm(i,n,r))}if(t.segments.length===n.length){if(!ty(t.segments,n)||!Wm(t.segments,n,r))return!1;for(const n in e.children)if(!t.children[n]||!Km(t.children[n],e.children[n],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ty(t.segments,i)&&Wm(t.segments,i,r)&&t.children[Rm])&&Qm(t.children[Rm],e,o,r)}}function Wm(t,e,n){return e.every((e,r)=>zm[n](t[r].parameters,e.parameters))}class Jm{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lm(this.queryParams)),this._queryParamMap}toString(){return ry.serialize(this)}}class Ym{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Bm(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iy(this)}}class Xm{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lm(this.parameters)),this._parameterMap}toString(){return hy(this)}}function ty(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class ey{}class ny{parse(t){const e=new my(t);return new Jm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${oy(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ay(e)}=${ay(t)}`).join("&"):`${ay(e)}=${ay(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const ry=new ny;function iy(t){return t.segments.map(t=>hy(t)).join("/")}function oy(t,e){if(!t.hasChildren())return iy(t);if(e){const e=t.children[Rm]?oy(t.children[Rm],!1):"",n=[];return Bm(t.children,(t,e)=>{e!==Rm&&n.push(`${e}:${oy(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Bm(t.children,(t,r)=>{r===Rm&&(n=n.concat(e(t,r)))}),Bm(t.children,(t,r)=>{r!==Rm&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Rm?[oy(t.children[Rm],!1)]:[`${n}:${oy(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Rm]?`${iy(t)}/${e[0]}`:`${iy(t)}/(${e.join("//")})`}}function sy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ay(t){return sy(t).replace(/%3B/gi,";")}function uy(t){return sy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cy(t){return decodeURIComponent(t)}function ly(t){return cy(t.replace(/\+/g,"%20"))}function hy(t){return`${uy(t.path)}${function(t){return Object.keys(t).map(e=>`;${uy(e)}=${uy(t[e])}`).join("")}(t.parameters)}`}const fy=/^[^\/()?;=#]+/;function dy(t){const e=t.match(fy);return e?e[0]:""}const py=/^[^=?&#]+/,gy=/^[^?&#]+/;class my{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ym([],{}):new Ym([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Rm]=new Ym(t,e)),n}parseSegment(){const t=dy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xm(cy(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=dy(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=dy(this.remaining);t&&(n=t,this.capture(n))}t[cy(e)]=cy(n)}parseQueryParam(t){const e=function(t){const e=t.match(py);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(gy);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ly(e),i=ly(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=dy(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Rm);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Rm]:new Ym([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class yy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vy(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=vy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=by(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return by(t,this._root).map(t=>t.value)}}function vy(t,e){if(t===e.value)return e;for(const n of e.children){const e=vy(t,n);if(e)return e}return null}function by(t,e){if(t===e.value)return[e];for(const n of e.children){const r=by(t,n);if(r.length)return r.unshift(e),r}return[]}class wy{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _y(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ty extends yy{constructor(t,e){super(t),this.snapshot=e,xy(this,t)}toString(){return this.snapshot.toString()}}function Ey(t,e){const n=function(t,e){const n=new Ay([],{},{},"",{},Rm,e,null,t.root,-1,{});return new Iy("",new wy(n,[]))}(t,e),r=new zg([new Xm("",{})]),i=new zg({}),o=new zg({}),s=new zg({}),a=new zg(""),u=new Sy(r,i,s,a,o,Rm,e,n.root);return u.snapshot=n.root,new Ty(new wy(u,[]),n)}class Sy{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(t=>Lm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(t=>Lm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cy(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ay{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Iy extends yy{constructor(t,e){super(e),this.url=t,xy(this,e)}toString(){return ky(this._root)}}function xy(t,e){e.value._routerState=t,e.children.forEach(e=>xy(t,e))}function ky(t){const e=t.children.length>0?` { ${t.children.map(ky).join(", ")} } `:"";return`${t.value}${e}`}function Oy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mm(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Mm(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mm(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Mm(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Dy(t,e){return Mm(t.params,e.params)&&function(t,e){return ty(t,e)&&t.every((t,n)=>Mm(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Dy(t.parent,e.parent))}function Ny(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Ny(t,e,r);return Ny(t,e)})}(t,e,n);return new wy(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Ry(e,t),t}}const n=function(t){return new Sy(new zg(t.url),new zg(t.params),new zg(t.queryParams),new zg(t.fragment),new zg(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(e=>Ny(t,e));return new wy(n,r)}}function Ry(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ry(t.children[n],e.children[n])}function Py(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ly(t){return"object"==typeof t&&null!=t&&t.outlets}function Fy(t,e,n,r,i){let o={};return r&&Bm(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Jm(n.root===t?e:Vy(n.root,t,e),o,i)}function Vy(t,e,n){const r={};return Bm(t.children,(t,i)=>{r[i]=t===e?n:Vy(t,e,n)}),new Ym(t.segments,r)}class Uy{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Py(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ly);if(r&&r!==Gm(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class My{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function jy(t,e,n){if(t||(t=new Ym([],{})),0===t.segments.length&&t.hasChildren())return qy(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ly(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Hy(a,u,e))return o;r+=2}else{if(!Hy(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ym(t.segments.slice(0,r.pathIndex),{});return e.children[Rm]=new Ym(t.segments.slice(r.pathIndex),t.children),qy(e,0,i)}return r.match&&0===i.length?new Ym(t.segments,{}):r.match&&!t.hasChildren()?Gy(t,e,n):r.match?qy(t,0,i):Gy(t,e,n)}function qy(t,e,n){if(0===n.length)return new Ym(t.segments,{});{const r=function(t){return Ly(t[0])?t[0].outlets:{[Rm]:t}}(n),i={};return Bm(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=jy(t.children[r],e,n))}),Bm(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ym(t.segments,i)}}function Gy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ly(o)){const t=By(o.outlets);return new Ym(r,t)}if(0===i&&Py(n[0])){r.push(new Xm(t.segments[e].path,Zy(n[0]))),i++;continue}const s=Ly(o)?o.outlets[Rm]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Py(a)?(r.push(new Xm(s,Zy(a))),i+=2):(r.push(new Xm(s,{})),i++)}return new Ym(r,{})}function By(t){const e={};return Bm(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Gy(new Ym([],{}),0,t))}),e}function Zy(t){const e={};return Bm(t,(t,n)=>e[n]=`${t}`),e}function Hy(t,e,n){return t==n.path&&Mm(e,n.parameters)}class zy{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Oy(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=_y(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Bm(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=_y(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=_y(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Dm(t.value.snapshot))}),t.children.length&&this.forwardEvent(new km(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Oy(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$y(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $y(t){Oy(t.value),t.children.forEach($y)}class Ky{constructor(t,e){this.routes=t,this.module=e}}function Qy(t){return"function"==typeof t}function Wy(t){return t instanceof Jm}const Jy=Symbol("INITIAL_VALUE");function Yy(){return lg(t=>function(...t){let e,n;return(0,vt.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,$g.k)(t[0])&&(t=t[0]),(0,Yg.n)(t,n).lift(new tm(e))}(t.map(t=>t.pipe(vg(1),bt(Jy)))).pipe(Ct((t,e)=>{let n=!1;return e.reduce((t,r,i)=>t!==Jy?t:(r===Jy&&(n=!0),n||!1!==r&&i!==e.length-1&&!Wy(r)?t:r),t)},Jy),Ot(t=>t!==Jy),(0,St.U)(t=>Wy(t)?t:!0===t),vg(1)))}let Xy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[Jv]},encapsulation:2}),t})();function tv(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ev(r,nv(e,r))}}function ev(t,e){t.children&&tv(t.children,e)}function nv(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function rv(t){const e=t.children&&t.children.map(rv),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Rm&&(n.component=Xy),n}function iv(t){return t.outlet||Rm}function ov(t,e){const n=t.filter(t=>iv(t)===e);return n.push(...t.filter(t=>iv(t)!==e)),n}const sv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function av(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},sv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Um)(n,t,e);if(!i)return Object.assign({},sv);const o={};Bm(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function uv(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>cv(t,e,n)&&iv(n)!==Rm)}(t,n,r)){const i=new Ym(e,function(t,e,n,r){const i={};i[Rm]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&iv(o)!==Rm){const n=new Ym([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[iv(o)]=n}return i}(t,e,r,new Ym(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>cv(t,e,n))}(t,n,r)){const o=new Ym(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(cv(t,n,a)&&!i[iv(a)]){const n=new Ym([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[iv(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ym(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function cv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function lv(t,e,n,r){return!!(iv(t)===r||r!==Rm&&cv(e,n,t))&&("**"===t.path||av(e,t,n).matched)}function hv(t,e,n){return 0===e.length&&!t.children[n]}class fv{constructor(t){this.segmentGroup=t||null}}class dv{constructor(t){this.urlTree=t}}function pv(t){return new dt.y(e=>e.error(new fv(t)))}function gv(t){return new dt.y(e=>e.error(new dv(t)))}function mv(t){return new dt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yv{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=uv(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ym(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rm).pipe((0,St.U)(t=>this.createUrlTree(vv(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(im(t=>{if(t instanceof dv)return this.allowRedirects=!1,this.match(t.urlTree);throw t instanceof fv?this.noMatchError(t):t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rm).pipe((0,St.U)(e=>this.createUrlTree(vv(e),t.queryParams,t.fragment))).pipe(im(t=>{throw t instanceof fv?this.noMatchError(t):t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ym([],{[Rm]:t}):t;return new Jm(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,St.U)(t=>new Ym([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,pt.D)(r).pipe(um(r=>{const i=n.children[r],o=ov(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,St.U)(t=>({segment:t,outlet:r})))}),Ct((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ot((e,n)=>t(e,n,r)):xg.y,cm(1),n?_g(e):Sg(()=>new gg))}())}expandSegment(t,e,n,r,i,o){return(0,pt.D)(n).pipe(um(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(im(t=>{if(t instanceof fv)return(0,gt.of)(null);throw t}))),kg(t=>!!t),im((t,n)=>{if(t instanceof gg||"EmptyError"===t.name){if(hv(e,r,i))return(0,gt.of)(new Ym([],{}));throw new fv(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return lv(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):pv(e):pv(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?gv(i):this.lineralizeSegments(n,i).pipe((0,am.zg)(n=>{const i=new Ym(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=av(e,r,i);if(!s)return pv(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?gv(l):this.lineralizeSegments(r,l).pipe((0,am.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,gt.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,St.U)(t=>(n._loadedConfig=t,new Ym(r,{})))):(0,gt.of)(new Ym(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=av(e,n,r);if(!o)return pv(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,am.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=uv(e,s,u,o),l=new Ym(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,St.U)(t=>new Ym(s,t)));if(0===o.length&&0===c.length)return(0,gt.of)(new Ym(s,{}));const h=iv(n)===i;return this.expandSegment(r,l,o,c,h?Rm:i,!0).pipe((0,St.U)(t=>new Ym(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,gt.of)(new Ky(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,gt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,am.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,St.U)(t=>(e._loadedConfig=t,t))):function(t){return new dt.y(e=>e.error(Vm(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,gt.of)(new Ky([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,gt.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Qy(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Qy(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zm(o)});return(0,gt.of)(i).pipe(Yy(),(0,fm.b)(t=>{if(!Wy(t))return;const e=Vm(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,St.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,gt.of)(n);if(r.numberOfChildren>1||!r.children[Rm])return mv(t.redirectTo);r=r.children[Rm]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Jm(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Bm(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Bm(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ym(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function vv(t){const e={};for(const n of Object.keys(t.children)){const r=vv(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children[Rm]){const e=t.children[Rm];return new Ym(t.segments.concat(e.segments),e.children)}return t}(new Ym(t.segments,e))}class bv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wv{constructor(t,e){this.component=t,this.route=e}}function _v(t,e,n){const r=t._root;return Ev(r,e?e._root:null,n,[r.value])}function Tv(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ev(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_y(e);return t.children.forEach(t=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ty(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ty(t.url,e.url)||!Mm(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dy(t,e)||!Mm(t.queryParams,e.queryParams);case"paramsChange":default:return!Dy(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new bv(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ev(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wv(a.outlet.component,s))}else s&&Sv(e,a,i),i.canActivateChecks.push(new bv(r)),Ev(t,null,o.component?a?a.children:null:n,r,i)})(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Bm(o,(t,e)=>Sv(t,n.getContext(e),i)),i}function Sv(t,e,n){const r=_y(t),i=t.value;Bm(r,(t,r)=>{Sv(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new wv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Cv{}function Av(t){return new dt.y(e=>e.error(t))}class Iv{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=uv(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rm);if(null===e)return null;const n=new Ay([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rm,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wy(n,e),i=new Iy(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Cy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ov(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=kv(n);return function(t){t.sort((t,e)=>t.value.outlet===Rm?-1:e.value.outlet===Rm?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return hv(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!lv(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Gm(n).parameters:{};i=new Ay(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nv(t),iv(t),t.component,t,Ov(e),Dv(e)+n.length,Rv(t))}else{const r=av(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Ay(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nv(t),iv(t),t.component,t,Ov(e),Dv(e)+o.length,Rv(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=uv(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new wy(i,t)]}if(0===a.length&&0===c.length)return[new wy(i,[])];const l=iv(t)===r,h=this.processSegment(a,u,c,l?Rm:r);return null===h?null:[new wy(i,h)]}}function xv(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kv(t){const e=[],n=new Set;for(const r of t){if(!xv(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=kv(r.children);e.push(new wy(r.value,t))}return e.filter(t=>!n.has(t))}function Ov(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Dv(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Nv(t){return t.data||{}}function Rv(t){return t.resolve||{}}function Pv(t){return lg(e=>{const n=t(e);return n?(0,pt.D)(n).pipe((0,St.U)(()=>e)):(0,gt.of)(e)})}class Lv extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Fv=new r.OlP("ROUTES");class Vv{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,St.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ky(qm(i.injector.get(Fv,void 0,r.XFs.Self|r.XFs.Optional)).map(rv),i)}),im(t=>{throw e._loader$=void 0,t}));return e._loader$=new rm.c(n,()=>new ug.xQ).pipe((0,dm.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,pt.D)(this.loader.load(t)):Zm(t()).pipe((0,am.zg)(t=>t instanceof r.YKP?(0,gt.of)(t):(0,pt.D)(this.compiler.compileModuleAsync(t))))}}class Uv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mv,this.attachRef=null}}class Mv{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Uv,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class jv{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qv(t){throw t}function Gv(t,e,n){return e.parse("/")}function Bv(t,e){return(0,gt.of)(null)}const Zv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zv=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ug.xQ,this.errorHandler=qv,this.malformedUriErrorHandler=Gv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Bv,afterPreactivation:Bv},this.urlHandlingStrategy=new jv,this.routeReuseStrategy=new Lv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Jm(new Ym([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vv(s,a,t=>this.triggerEvent(new Am(t)),t=>this.triggerEvent(new Im(t))),this.routerState=Ey(this.currentUrlTree,this.rootComponentType),this.transitions=new zg({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(Ot(t=>0!==t.id),(0,St.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),lg(t=>{let n=!1,r=!1;return(0,gt.of)(t).pipe((0,fm.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,gt.of)(t).pipe(lg(t=>{const n=this.transitions.getValue();return e.next(new ym(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?yg.E:Promise.resolve(t)}),function(t,e,n,r){return lg(i=>function(t,e,n,r,i){return new yv(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe((0,St.U)(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fm.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,o){return(0,am.zg)(s=>function(t,e,n,i,o="emptyOnly",s="legacy"){try{const r=new Iv(t,e,n,i,o,s).recognize();return null===r?Av(new Cv):(0,gt.of)(r)}catch(r){return Av(r)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,o).pipe((0,St.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fm.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new _m(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ym(n,this.serializeUrl(r),i,o);e.next(a);const u=Ey(r,this.rootComponentType).snapshot;return(0,gt.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),yg.E}),Pv(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,fm.b)(t=>{const e=new Tm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,St.U)(t=>Object.assign(Object.assign({},t),{guards:_v(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,am.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,gt.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,pt.D)(t).pipe((0,am.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,gt.of)(!0);const s=o.map(o=>{const s=Tv(o,e,i);let a;if(function(t){return t&&Qy(t.canDeactivate)}(s))a=Zm(s.canDeactivate(t,e,n,r));else{if(!Qy(s))throw new Error("Invalid CanDeactivate guard");a=Zm(s(t,e,n,r))}return a.pipe(kg())});return(0,gt.of)(s).pipe(Yy())}(t.component,t.route,n,e,r)),kg(t=>!0!==t,!0))}(s,r,i,t).pipe((0,am.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,pt.D)(e).pipe(um(e=>yt(function(t,e){return null!==t&&e&&e(new xm(t)),(0,gt.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Om(t)),(0,gt.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>nm(()=>{const i=e.guards.map(i=>{const o=Tv(i,e.node,n);let s;if(function(t){return t&&Qy(t.canActivateChild)}(o))s=Zm(o.canActivateChild(r,t));else{if(!Qy(o))throw new Error("Invalid CanActivateChild guard");s=Zm(o(r,t))}return s.pipe(kg())});return(0,gt.of)(i).pipe(Yy())}));return(0,gt.of)(i).pipe(Yy())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,gt.of)(!0);const i=r.map(r=>nm(()=>{const i=Tv(r,e,n);let o;if(function(t){return t&&Qy(t.canActivate)}(i))o=Zm(i.canActivate(e,t));else{if(!Qy(i))throw new Error("Invalid CanActivate guard");o=Zm(i(e,t))}return o.pipe(kg())}));return(0,gt.of)(i).pipe(Yy())}(t,e.route,n))),kg(t=>!0!==t,!0))}(r,o,t,e):(0,gt.of)(n)),(0,St.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,fm.b)(t=>{if(Wy(t.guardsResult)){const e=Vm(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Em(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ot(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),Pv(t=>{if(t.guards.canActivateChecks.length)return(0,gt.of)(t).pipe((0,fm.b)(t=>{const e=new Sm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),lg(t=>{let e=!1;return(0,gt.of)(t).pipe(function(t,e){return(0,am.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,gt.of)(n);let o=0;return(0,pt.D)(i).pipe(um(n=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,gt.of)({});const o={};return(0,pt.D)(i).pipe((0,am.zg)(i=>function(t,e,n,r){const i=Tv(t,e,r);return Zm(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,fm.b)(t=>{o[i]=t}))),cm(1),(0,am.zg)(()=>Object.keys(o).length===i.length?(0,gt.of)(o):yg.E))}(t._resolve,t,e,r).pipe((0,St.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cy(t,n).resolve),null)))}(n.route,r,t,e)),(0,fm.b)(()=>o++),cm(1),(0,am.zg)(t=>o===i.length?(0,gt.of)(n):yg.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fm.b)({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}))}),(0,fm.b)(t=>{const e=new Cm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Pv(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,St.U)(t=>{const e=function(t,e,n){const r=Ny(t,e._root,n?n._root:void 0);return new Ty(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,fm.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),((t,e,n)=>(0,St.U)(r=>(new zy(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),(0,fm.b)({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new pm(t))}(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),im(n=>{if(r=!0,function(t){return t&&t[Fm]}(n)){const r=Wy(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new bm(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new wm(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return yg.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return e.transitionId!==t.transitionId||!n||!("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){tv(t),this.config=t.map(rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Fy(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Uy(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Bm(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Uy(n,e,r)}(n);if(o.toRoot())return Fy(e.root,new Ym([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new My(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new My(t,t===e.root,0)}const r=Py(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new My(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?qy(s.segmentGroup,s.index,o.commands):jy(s.segmentGroup,s.index,o.commands);return Fy(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Wy(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Zv):!1===e?Object.assign({},Hv):e,Wy(t))return $m(this.currentUrlTree,t,n);const r=this.parseUrl(t);return $m(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new vm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&c)return Promise.resolve(!0);let l,h,f;i?(l=i.resolve,h=i.reject,f=i.promise):f=new Promise((t,e)=>{l=t,h=e});const d=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:d,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new bm(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(ey),r.LFG(Mv),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),$v=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new ug.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Qv(this.skipLocationChange),replaceUrl:Qv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qv(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(zv),r.Y36(Sy),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),Kv=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new ug.xQ,this.subscription=t.events.subscribe(t=>{t instanceof vm&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Qv(this.skipLocationChange),replaceUrl:Qv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qv(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(zv),r.Y36(Sy),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function Qv(t){return""===t||!!t}let Wv=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof vm&&this.update()})}ngAfterContentInit(){(0,gt.of)(this.links.changes,this.linksWithHrefs.changes,(0,gt.of)(null)).pipe((0,mt.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,pt.D)(e).pipe((0,mt.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(zv),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36($v,8),r.Y36(Kv,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,$v,5),r.Suo(n,Kv,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),Jv=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Rm,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Yv(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Mv),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Yv{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sy?this.route:t===Mv?this.childContexts:this.parent.get(t,e)}}class Xv{}class tb{preload(t,e){return(0,gt.of)(null)}}let eb=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Vv(e,n,e=>t.triggerEvent(new Am(e)),e=>t.triggerEvent(new Im(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ot(t=>t instanceof vm),um(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,pt.D)(n).pipe((0,mt.J)(),(0,St.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,gt.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,am.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(zv),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Xv))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),nb=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ym?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vm&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Nm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(zv),r.LFG(N),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const rb=new r.OlP("ROUTER_CONFIGURATION"),ib=new r.OlP("ROUTER_FORROOT_GUARD"),ob=[_,{provide:ey,useClass:ny},{provide:zv,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new zv(null,t,e,n,r,i,o,qm(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[ey,Mv,_,r.zs3,r.v3s,r.Sil,Fv,rb,[class{},new r.FiY],[class{},new r.FiY]]},Mv,{provide:Sy,useFactory:function(t){return t.routerState.root},deps:[zv]},{provide:r.v3s,useClass:r.EAV},eb,tb,class{preload(t,e){return e().pipe(im(()=>(0,gt.of)(null)))}},{provide:rb,useValue:{enableTracing:!1}}];function sb(){return new r.PXZ("Router",zv)}let ab=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ob,hb(e),{provide:ib,useFactory:lb,deps:[[zv,new r.FiY,new r.tp0]]},{provide:rb,useValue:n||{}},{provide:m,useFactory:cb,deps:[a,[new r.tBr(v),new r.FiY],rb]},{provide:nb,useFactory:ub,deps:[zv,N,rb]},{provide:Xv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:tb},{provide:r.PXZ,multi:!0,useFactory:sb},[fb,{provide:r.ip1,multi:!0,useFactory:db,deps:[fb]},{provide:gb,useFactory:pb,deps:[fb]},{provide:r.tb,multi:!0,useExisting:gb}]]}}static forChild(e){return{ngModule:t,providers:[hb(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ib,8),r.LFG(zv,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function ub(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new nb(t,e,n)}function cb(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function lb(t){return"guarded"}function hb(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Fv,multi:!0,useValue:t}]}let fb=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ug.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zv),r=this.injector.get(rb);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,gt.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(rb),n=this.injector.get(eb),i=this.injector.get(nb),o=this.injector.get(zv),s=this.injector.get(r.z2F);t===s.components[0]&&(("enabledNonBlocking"===e.initialNavigation||void 0===e.initialNavigation)&&o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function db(t){return t.appInitializer.bind(t)}function pb(t){return t.bootstrapListener.bind(t)}const gb=new r.OlP("Router Initializer");let mb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:30,vars:0,consts:[[1,"container-fluid"],[1,"page-header","min-height-300","border-radius-xl","mt-4",2,"background-image","url('../sretraining.github.io/assets/img/backgrounds/bg-home.png')","background-position-x","50%","background-position-y","80%"],[1,"mask","opacity-6"],[1,"card","card-body","blur","shadow-blur","mx-4","mt-n6","overflow-hidden"],[1,"row","gx-4"],[1,"col-auto"],[1,"avatar","avatar-xl","position-relative"],["src","../sretraining.github.io/assets/img/logos/training.png","alt","profile_image",1,"w-100","border-radius-lg","shadow-sm"],[1,"col-auto","my-auto"],[1,"h-100"],[1,"mb-1"],[1,"mb-0","font-weight-bold","text-sm"],[1,"container-fluid","py-4"],[1,"row","mt-3"],[1,"col-lg-5"],[1,"card"],[1,"card-body","p-3"],[1,"row"],[1,"col-lg-20"],[1,"d-flex","flex-column","h-100"],[1,"mb-5"],["href","",1,"text-body","text-sm","font-weight-bold","mb-0","icon-move-right","mt-auto"],["aria-hidden","true",1,"fas","fa-arrow-right","text-sm","ms-1"],[1,"col-lg-7"],[1,"card","h-100","p-3"],[1,"position-relative","border-radius-lg","bg-cover","h-100",2,"background-image","url('../sretraining.github.io/assets/img/path/sre_path.png')","background-position","center"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"span",2),r.qZA(),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r._UZ(7,"img",7),r.qZA(),r.qZA(),r.TgZ(8,"div",8),r.TgZ(9,"div",9),r.TgZ(10,"h5",10),r._uU(11," Entrenamientos SRE "),r.qZA(),r.TgZ(12,"p",11),r._UZ(13,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",12),r.TgZ(15,"div",13),r.TgZ(16,"div",14),r.TgZ(17,"div",15),r.TgZ(18,"div",16),r.TgZ(19,"div",17),r.TgZ(20,"div",18),r.TgZ(21,"div",19),r.TgZ(22,"p",20),r._uU(23,"Este es nuestro proyecto para entrenar SREs en Espa\xf1ol. Aqu\xed encuentras cursos, documentos, laboratorios y ex\xe1menes para aprender y evaluar tus conocimientos sobre SRE."),r.qZA(),r.TgZ(24,"a",21),r._uU(25," Leer m\xe1s ... "),r._UZ(26,"i",22),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",23),r.TgZ(28,"div",24),r._UZ(29,"div",25),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),t})();function yb(t,e){if(1&t&&(r.TgZ(0,"div",29),r.TgZ(1,"div",15),r.TgZ(2,"div",16),r.TgZ(3,"div",17),r.TgZ(4,"div",18),r.TgZ(5,"div",19),r.TgZ(6,"div",20),r.TgZ(7,"div",30),r._UZ(8,"i",22),r.qZA(),r.qZA(),r.TgZ(9,"div",23),r.TgZ(10,"h6",24),r._uU(11),r.qZA(),r._UZ(12,"hr",25),r.TgZ(13,"span"),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(11),r.Oqu(t[0]),r.xp6(2),r.Gre("badge badge-sm ",t[2],""),r.xp6(1),r.hij(" ",t[1]," ")}}let vb=(()=>{class t{constructor(){this.concepts=[["Redes","Pr\xf3ximamente","bg-gradient-light"],["CI/CD","Pr\xf3ximamente","bg-gradient-light"],["Nube","Pr\xf3ximamente","bg-gradient-light"],["Kubernetes","Pr\xf3ximamente","bg-gradient-light"],["Flux","Pr\xf3ximamente","bg-gradient-light"],["ArgoCD","Pr\xf3ximamente","bg-gradient-light"],["Linkerd","Pr\xf3ximamente","bg-gradient-light"],["Ansible","Pr\xf3ximamente","bg-gradient-light"],["Terraform","Pr\xf3ximamente","bg-gradient-light"]]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-fundamentals"]],decls:35,vars:1,consts:[[1,"main-content","position-relative","bg-gray-100","max-height-vh-100","h-100"],[1,"container-fluid"],[1,"page-header","min-height-100","border-radius-xl","mt-0"],[1,"card","card-body","blur","shadow-blur","mx-4","mt-n6","overflow-hidden"],[1,"row","gx-4"],[1,"col-auto"],[1,"avatar","avatar-xl","position-relative"],["src","../sretraining.github.io/assets/img/logos/concepts.png","alt","profile_image",1,"w-100","border-radius-lg","shadow-sm"],[1,"col-auto","my-auto"],[1,"h-100"],[1,"mb-1"],[1,"mb-0","font-weight-bold","text-sm"],[1,"container-fluid","py-4"],[1,"row","mt-3"],[1,"col-xl-2"],[1,"card"],[1,"card-body","p-3"],[1,"row"],[1,"col-lg-20"],[1,"d-flex","flex-column","h-100"],[1,"card-header","mx-4","p-3","text-center"],[1,"icon","icon-shape","icon-lg","bg-gradient-success","shadow","text-center","border-radius-lg"],[1,"fas","fa-book","opacity-10"],[1,"card-body","pt-0","p-3","text-center"],[1,"text-center","mb-0"],[1,"horizontal","dark","my-3"],[1,"badge","badge-sm","bg-gradient-success"],["href","https://speakerdeck.com/sreespanol/robots-para-automatizacion-de-procesos"],["class","col-xl-2","style","margin-top: 20px",4,"ngFor","ngForOf"],[1,"col-xl-2",2,"margin-top","20px"],[1,"icon","icon-shape","icon-lg","bg-gradient-light","shadow","text-center","border-radius-lg"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"span"),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r._UZ(8,"img",7),r.qZA(),r.qZA(),r.TgZ(9,"div",8),r.TgZ(10,"div",9),r.TgZ(11,"h5",10),r._uU(12," Fundamentos de SRE "),r.qZA(),r.TgZ(13,"p",11),r._UZ(14,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",12),r.TgZ(16,"div",13),r.TgZ(17,"div",14),r.TgZ(18,"div",15),r.TgZ(19,"div",16),r.TgZ(20,"div",17),r.TgZ(21,"div",18),r.TgZ(22,"div",19),r.TgZ(23,"div",20),r.TgZ(24,"div",21),r._UZ(25,"i",22),r.qZA(),r.qZA(),r.TgZ(26,"div",23),r.TgZ(27,"h6",24),r._uU(28,"RPA"),r.qZA(),r._UZ(29,"hr",25),r.TgZ(30,"span",26),r.TgZ(31,"a",27),r._uU(32,"Acceder"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"div",13),r.YNc(34,yb,15,5,"div",28),r.qZA(),r.qZA()),2&t&&(r.xp6(34),r.Q6J("ngForOf",e.concepts))},directives:[k],styles:[""]}),t})();var bb=n(1555);function wb(t,e){return new dt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,pt.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,(o===r||!c)&&(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let _b=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Tb=(()=>{class t extends _b{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Eb=new r.OlP("NgValueAccessor"),Sb={provide:Eb,useExisting:(0,r.Gpc)(()=>Ab),multi:!0},Cb=new r.OlP("CompositionEventMode");let Ab=(()=>{class t extends _b{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Cb,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([Sb]),r.qOj]}),t})();function Ib(t){return null==t||0===t.length}function xb(t){return null!=t&&"number"==typeof t.length}const kb=new r.OlP("NgValidators"),Ob=new r.OlP("NgAsyncValidators"),Db=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nb{static min(t){return function(t){return e=>{if(Ib(e.value)||Ib(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Ib(e.value)||Ib(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Ib(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Ib(t.value)||Db.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Ib(e.value)||!xb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>xb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Rb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ib(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Mb(t)}static composeAsync(t){return qb(t)}}function Rb(t){return null}function Pb(t){return null!=t}function Lb(t){const e=(0,r.QGY)(t)?(0,pt.D)(t):t;return(0,r.CqO)(e),e}function Fb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vb(t,e){return e.map(e=>e(t))}function Ub(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Mb(t){if(!t)return null;const e=t.filter(Pb);return 0==e.length?null:function(t){return Fb(Vb(t,e))}}function jb(t){return null!=t?Mb(Ub(t)):null}function qb(t){if(!t)return null;const e=t.filter(Pb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,$g.k)(e))return wb(e,null);if((0,bb.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return wb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return wb(t=1===t.length&&(0,$g.k)(t[0])?t[0]:t,null).pipe((0,St.U)(t=>e(...t)))}return wb(t,null)}(Vb(t,e).map(Lb)).pipe((0,St.U)(Fb))}}function Gb(t){return null!=t?qb(Ub(t)):null}function Bb(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zb(t){return t._rawValidators}function Hb(t){return t._rawAsyncValidators}function zb(t){return t?Array.isArray(t)?t:[t]:[]}function $b(t,e){return Array.isArray(t)?t.includes(e):t===e}function Kb(t,e){const n=zb(e);return zb(t).forEach(t=>{$b(n,t)||n.push(t)}),n}function Qb(t,e){return zb(e).filter(e=>!$b(t,e))}let Wb=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),Jb=(()=>{class t extends Wb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class Yb extends Wb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xb{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let tw=(()=>{class t extends Xb{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Yb,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),ew=(()=>{class t extends Xb{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Jb,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})();function nw(t,e){ow(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&aw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&aw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function rw(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sw(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function iw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ow(t,e){const n=Zb(t);null!==e.validator?t.setValidators(Bb(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Hb(t);null!==e.asyncValidator?t.setAsyncValidators(Bb(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();iw(e._rawValidators,i),iw(e._rawAsyncValidators,i)}function sw(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=Zb(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=Hb(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return iw(e._rawValidators,r),iw(e._rawAsyncValidators,r),n}function aw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cw="VALID",lw="INVALID",hw="PENDING",fw="DISABLED";function dw(t){return(yw(t)?t.validators:t)||null}function pw(t){return Array.isArray(t)?jb(t):t||null}function gw(t,e){return(yw(e)?e.asyncValidators:t)||null}function mw(t){return Array.isArray(t)?Gb(t):t||null}function yw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class vw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pw(this._rawValidators),this._composedAsyncValidatorFn=mw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cw}get invalid(){return this.status===lw}get pending(){return this.status==hw}get disabled(){return this.status===fw}get enabled(){return this.status!==fw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mw(t)}addValidators(t){this.setValidators(Kb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Kb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Qb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Qb(t,this._rawAsyncValidators))}hasValidator(t){return $b(this._rawValidators,t)}hasAsyncValidator(t){return $b(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=hw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cw||this.status===hw)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fw:cw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=hw,this._hasOwnPendingAsyncValidator=!0;const e=Lb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(t=>{r=r instanceof ww?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof _w&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?fw:this.errors?lw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hw)?hw:this._anyControlsHaveStatus(lw)?lw:cw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bw extends vw{constructor(t=null,e,n){super(dw(e),gw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ww extends vw{constructor(t,e,n){super(dw(e),gw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof bw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class _w extends vw{constructor(t,e,n){super(dw(e),gw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof bw?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Tw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ew=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Sw=new r.OlP("NgModelWithFormControlWarning"),Cw={provide:Jb,useExisting:(0,r.Gpc)(()=>Aw)};let Aw=(()=>{class t extends Jb{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return nw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){rw(t.control||null,t,!1),uw(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(rw(e||null,t),n instanceof bw&&(nw(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){ow(t,e)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return sw(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ow(this.form,this),this._oldForm&&sw(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kb,10),r.Y36(Ob,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Cw]),r.qOj,r.TTD]}),t})();const Iw={provide:Yb,useExisting:(0,r.Gpc)(()=>xw)};let xw=(()=>{class t extends Yb{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Ab?n=t:function(t){return Object.getPrototypeOf(t.constructor)===Tb}(t)?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Jb,13),r.Y36(kb,10),r.Y36(Ob,10),r.Y36(Eb,10),r.Y36(Sw,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Iw]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})(),kw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ew]]}),t})(),Ow=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[kw]}),t})(),Dw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Sw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[kw]}),t})(),Nw=(()=>{class t{constructor(t){this.firestore=t}createCat(t){return this.firestore.collection("cats").add(t)}getCat(t){return this.firestore.collection("cats").doc(t).snapshotChanges()}getCats(){return this.firestore.collection("cats").snapshotChanges()}updateCat(t,e){return this.firestore.collection("cats").doc(t).set(e)}deleteCat(t){return this.firestore.collection("cats").doc(t).delete()}getQuestions(){return this.firestore.collection("questions").snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Hg))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rw(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",14),r._UZ(2,"img",15),r.qZA(),r.TgZ(3,"div",16),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.TgZ(6,"div",17),r.TgZ(7,"button",18),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().editCat(e.id)}),r._uU(8,"Editar"),r.qZA(),r.TgZ(9,"button",19),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().deleteCat(e.id)}),r._uU(10,"Eliminar"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Q6J("src",t.data.url,r.LSH),r.xp6(3),r.Oqu(t.data.nombre)}}let Pw=(()=>{class t{constructor(t){this.firestoreService=t,this.documentId=null,this.cats=[],this.currentStatus=1,this.newCatForm=new ww({nombre:new bw("",Nb.required),url:new bw("",Nb.required),id:new bw("")})}ngOnInit(){this.newCatForm.setValue({id:"",nombre:"",url:""}),this.firestoreService.getCats().subscribe(t=>{this.cats=[],t.forEach(t=>{this.cats.push({id:t.payload.doc.id,data:t.payload.doc.data()})})})}ngOnDestroy(){}newCat(t,e=this.documentId){console.log(`Status: ${this.currentStatus}`),1===this.currentStatus?this.firestoreService.createCat({nombre:t.nombre,url:t.url}).then(()=>{console.log("Documento creado exit\xf3samente!"),this.newCatForm.setValue({nombre:"",url:"",id:""})},t=>{console.error(t)}):this.firestoreService.updateCat(e,{nombre:t.nombre,url:t.url}).then(()=>{this.currentStatus=1,this.newCatForm.setValue({nombre:"",url:"",id:""}),console.log("Documento editado exit\xf3samente")},t=>{console.log(t)})}editCat(t){const e=this.firestoreService.getCat(t).subscribe(n=>{this.currentStatus=2,this.documentId=t,this.newCatForm.setValue({id:t,nombre:n.payload.data().nombre,url:n.payload.data().url}),e.unsubscribe()})}deleteCat(t){this.firestoreService.deleteCat(t).then(()=>{console.log("Documento eliminado!")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Nw))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-cats"]],decls:17,vars:4,consts:[[1,"grd"],[1,"grd-row"],[1,"grd-row-col-2"],[3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],["for","nombre"],["type","text","formControlName","nombre"],["for","url_img"],["type","url","formControlName","url"],["type","submit",1,"btn--blue","btn--add",3,"disabled","value"],[1,"grd-row-col-4"],[1,"cats_container"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"media-figure"],[3,"src"],[1,"media-body"],[1,"btn--group"],[1,"btn--green","btn--s","btn1",3,"click"],[1,"btn--red","btn--s","btn2",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h1"),r._uU(4,"\ud83d\udc31 Gatos \ud83d\udc31"),r.qZA(),r.TgZ(5,"form",3),r.NdJ("ngSubmit",function(){return e.newCat(e.newCatForm.value)}),r._UZ(6,"input",4),r.TgZ(7,"label",5),r._uU(8,"Nombre"),r.qZA(),r._UZ(9,"input",6),r.TgZ(10,"label",7),r._uU(11,"Imagen"),r.qZA(),r._UZ(12,"input",8),r._UZ(13,"input",9),r.qZA(),r.qZA(),r.TgZ(14,"div",10),r.TgZ(15,"div",11),r.YNc(16,Rw,11,2,"div",12),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("formGroup",e.newCatForm),r.xp6(8),r.Q6J("disabled",!e.newCatForm.valid)("value",1==e.currentStatus?"Agregar":"Editar"),r.xp6(3),r.Q6J("ngForOf",e.cats))},directives:[Tw,ew,Aw,Ab,tw,xw,k],styles:[".cats_container[_ngcontent-%COMP%]{border-left:4px solid #2d94da;padding-left:10px;margin-left:10px}.cats_container[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .media-figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.btn--group[_ngcontent-%COMP%]   .btn1[_ngcontent-%COMP%]{border-radius:30px 0 0 30px}.btn--group[_ngcontent-%COMP%]   .btn2[_ngcontent-%COMP%]{border-radius:0 30px 30px 0}.btn--add[_ngcontent-%COMP%]{border-radius:30px}"]}),t})();const Lw=[{path:"home",component:mb},{path:"fundamentals",component:vb},{path:"cats",component:Pw},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",component:mb}];let Fw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ab.forRoot(Lw)],ab]}),t})();const Vw={apiKey:"XXX",authDomain:"XXX",databaseURL:"XXX",projectId:"XXX",storageBucket:"XXX",messagingSenderId:"XXX"};function Uw(t,e){if(1&t&&(r.TgZ(0,"li",11),r.TgZ(1,"a",12),r.TgZ(2,"div",13),r._UZ(3,"i"),r.qZA(),r.TgZ(4,"span",14),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.s9C("routerLink",t[1]),r.xp6(2),r.Gre("fa fa-lg ",t[2],""),r.xp6(2),r.Oqu(t[0])}}let Mw=(()=>{class t{constructor(){this.title="Entrenando SREs",this.main_options=[["Inicio","home","fa-home"],["Fundamentos","fundamentals","fa-book"],["Clases","clases","fa-pencil"],["Inducci\xf3n","induccion","fa-ship"]]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:13,vars:2,consts:[["id","sidenav-main",1,"sidenav","navbar","navbar-vertical","navbar-expand-xs","border-0","border-radius-xl","my-3","fixed-start","ms-3"],[1,"sidenav-header"],["aria-hidden","true","id","iconSidenav",1,"fas","fa-times","p-3","cursor-pointer","text-secondary","opacity-5","position-absolute","end-0","top-0","d-none","d-xl-none"],["href","#","target","_blank",1,"navbar-brand","m-0"],["src","../sretraining.github.io/assets/img/logos/train-logo.png","alt","main_logo",1,"navbar-brand-img"],[1,"ms-1","font-weight-bold"],[1,"horizontal","dark","mt-0"],["id","sidenav-collapse-main",1,"collapse","navbar-collapse","w-auto","max-height-vh-100","h-100"],[1,"navbar-nav"],["class","nav-item",4,"ngFor","ngForOf"],[1,"main-content","position-relative","max-height-vh-100","h-100","mt-1","border-radius-lg"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"icon","icon-shape","icon-sm","shadow","border-radius-md","bg-white","text-center","me-2","d-flex","align-items-center","justify-content-center"],[1,"nav-link-text","ms-1"]],template:function(t,e){1&t&&(r.TgZ(0,"aside",0),r.TgZ(1,"div",1),r._UZ(2,"i",2),r.TgZ(3,"a",3),r._UZ(4,"img",4),r.TgZ(5,"span",5),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r._UZ(7,"hr",6),r.TgZ(8,"div",7),r.TgZ(9,"ul",8),r.YNc(10,Uw,6,5,"li",9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"main",10),r._UZ(12,"router-outlet"),r.qZA()),2&t&&(r.xp6(6),r.Oqu(e.title),r.xp6(4),r.Q6J("ngForOf",e.main_options))},directives:[k,Jv,Kv,Wv],styles:[""]}),t})();function jw(t,e){if(1&t&&(r.TgZ(0,"div",2),r.TgZ(1,"div",3),r.TgZ(2,"div",4),r.TgZ(3,"div",5),r.TgZ(4,"div",6),r.TgZ(5,"div",7),r.TgZ(6,"div",8),r.TgZ(7,"div",5),r.TgZ(8,"div",9),r.TgZ(9,"h6",10),r._uU(10,"Pregunta: "),r.qZA(),r.qZA(),r.TgZ(11,"div",11),r.TgZ(12,"a",12),r._UZ(13,"i",13),r._uU(14,"\xa0\xa0M\xe1s informaci\xf3n"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",14),r.TgZ(16,"div",5),r.TgZ(17,"div",15),r.TgZ(18,"div",16),r._UZ(19,"img",17),r.TgZ(20,"h6",10),r._uU(21),r.qZA(),r._UZ(22,"i",18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div",5),r.TgZ(24,"div",19),r.TgZ(25,"div",20),r.TgZ(26,"div",21),r.TgZ(27,"h6",10),r._uU(28,"Opciones"),r.qZA(),r.qZA(),r.TgZ(29,"div",22),r.TgZ(30,"ul",23),r.TgZ(31,"li",24),r.TgZ(32,"div",25),r.TgZ(33,"h6",26),r._uU(34),r.qZA(),r.TgZ(35,"span",27),r._uU(36,"Company Name: "),r.TgZ(37,"span",28),r._uU(38,"Viking Burrito"),r.qZA(),r.qZA(),r.TgZ(39,"span",27),r._uU(40,"Email Address: "),r.TgZ(41,"span",29),r._uU(42,"oliver@burrito.com"),r.qZA(),r.qZA(),r.TgZ(43,"span",30),r._uU(44,"VAT Number: "),r.TgZ(45,"span",29),r._uU(46,"FRB1235476"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(21),r.hij("*",t.data.question,""),r.xp6(13),r.Oqu(t.data.options)}}let qw=(()=>{class t{constructor(t){this.firestoreService=t,this.documentId=null,this.questions=[],this.currentStatus=1}ngOnInit(){this.firestoreService.getQuestions().subscribe(t=>{this.questions=[],t.forEach(t=>{this.questions.push({id:t.payload.doc.id,data:t.payload.doc.data()})})})}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Nw))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-questions"]],decls:2,vars:1,consts:[[1,"main-content","position-relative","max-height-vh-100","h-100","mt-1","border-radius-lg"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"container-fluid","py-4"],[1,"col-lg-8"],[1,"row"],[1,"col-md-12","mb-lg-0","mb-4"],[1,"card","mt-4"],[1,"card-header","pb-0","p-3"],[1,"col-6","d-flex","align-items-center"],[1,"mb-0"],[1,"col-6","text-end"],["href","javascript:;",1,"btn","bg-gradient-dark","mb-0"],[1,"fas","fa-plus"],[1,"card-body","p-3"],[1,"col-md-6","mb-md-0","mb-4"],[1,"card","card-body","border","card-plain","border-radius-lg","d-flex","align-items-center","flex-row"],["alt","logo","src","../sretraining.github.io/assets/img/logos/mastercard.png",1,"w-10","me-3","mb-0"],["data-bs-placement","top","data-bs-toggle","tooltip","title","Edit Card",1,"fas","fa-pencil-alt","ms-auto","text-dark","cursor-pointer"],[1,"col-md-7","mt-4"],[1,"card"],[1,"card-header","pb-0","px-3"],[1,"card-body","pt-4","p-3"],[1,"list-group"],[1,"list-group-item","border-0","d-flex","p-4","mb-2","bg-gray-100","border-radius-lg"],[1,"d-flex","flex-column"],[1,"mb-3","text-sm"],[1,"mb-2","text-xs"],[1,"text-dark","font-weight-bold","ms-sm-2"],[1,"text-dark","ms-sm-2","font-weight-bold"],[1,"text-xs"]],template:function(t,e){1&t&&(r.TgZ(0,"main",0),r.YNc(1,jw,47,2,"div",1),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngForOf",e.questions))},directives:[k],styles:[""]}),t})(),Gw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[Mw]}),t.\u0275inj=r.cJS({providers:[Hg,Nw],imports:[[lt,Fw,Ow,Dw,ab.forRoot([{path:"",redirectTo:"cats",pathMatch:"full"},{path:"cats",component:Pw},{path:"questions",component:qw}]),ht.hO.initializeApp(Vw)]]}),t})();(0,r.G48)(),ut().bootstrapModule(Gw).catch(t=>console.log(t))},4762:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},mG:function(){return s},Jh:function(){return a},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},function(t){t(t.s=3256)}]);